---
theme: night
height: 540
margin: 0
maxScale: 4
slideNumber: true
---

<!-- slide bg="[[Green Logo.svg]]" background-size="auto" -->

---


<!-- slide template="[[Split Vertical]]" -->
::: title
#### CS-4973
:::
::: left
![[Green Logo.svg | 400]] <!-- element style="object-fit: cover" -->

:::
::: right
<!-- element style="font-size: 32px;align:center" -->
Introduction to Malware, Threat Hunting & Offensive Capabilities Development
:::

---
<!-- slide template="[[Base Slide]]" -->
::: title
#### Course Developers
:::

<!-- element style="font-size: 36px"-->
- Winnona DeSombre (Defensive Security)
- Kai Bernardini (Offensive Security)

---
<!-- slide template="[[Split Vertical]]" -->
::: title
 #### $ whoami  
:::

::: left
<!-- element style="font-size: 24px"-->
- Kai 
- Security Consultant 
- Vulnerability Researcher / Red Teamer
- Lecturer @ NEU
- Allergic to cats
- Totally harmless
:::

::: right
![[slide_3_image.jpg|300]]


:::

---
<!-- slide template="[[Split Vertical]]" -->
::: title
 #### $ whoami  
:::

::: left
<!-- element style="font-size: 24px"-->
- Winnona DeSombre
- Harvard Kennedy School / Georgetown Law
- Women in Security & Privacy Board member
- Former Google TAG 
(hunting nation state threats)

:::

::: right
![[slide_4_image.jpg|225]]


:::

---
<!-- slide template="[[Title Slide]]" -->
 ## Course Overview
---
<!-- slide template="[[Base Slide]]" -->
::: title
#### Abstract 

::: 
<small>
CS501 is an introduction to the wild world of malware analysis and offensive capabilities development. Students will work to analyze, and emulate a simulated APT:  APT-Chonky-Bear. In order better defend against 
attackers,  this course takes the stance that it is essential to think like an attacker. Therefore,  students will learn the basics of malware reverse engineering, threat hunting and  malware development. 


---
<!-- slide template="[[Split Vertical]]" -->
::: title
 #### Why get into Infosec
:::

::: left
<!-- element style="font-size: 24px"-->
- It’s fun :D.
- There is no shorta<style>
	.mermaid {width:200% !important}
</style>ge of interesting work. 
- You’ll become really fun at parties.
- The impact you can have is massive
- Generous compensation


:::

::: right
![[slide_7_image.png|350]]


:::

---
<!-- slide template="[[Split Vertical]]" -->
::: title
 #### Topics
:::

::: left
<!-- element style="font-size: 24px"-->
- This is the fourth time the class is being taught. 
- Depending on how things go, we may cover more or less than what is listed on the syllabus.<style>
	.mermaid {width:200% !important}
</style>
- Since this is designed to be current, topics might shift according to current events. 

:::

::: right
![[slide_8_image.png|260]]


:::

---
<!-- slide template="[[Base Slide]]" -->
::: title
#### Goals of the Course	 

:::

<!-- element style="font-size: 28px"--> 
- Create a safe environment  to allow students to explore malware
- Create clear paths for students to enter the security community 
- Help make everyone here more security literate.	
- Get your hands dirty reversing and writing malware
- You read that right. In this class you will be writing malware<!-- element class="fragment highlight-red" -->

---
<!-- slide template="[[Base Slide]]" -->
::: title
#### Malware Capstone 

:::

<!-- element style="font-size: 27px"-->
- Over the course of a semester, students will reverse engineer and re-implement capabilities of malware.
- The course capstone is to  implement a production ready Remote Administration Tool (RAT) that targets the Windows Operating System.  
- You have to work in a groups for the final capstone project.


---
<!-- slide template="[[Split Vertical]]" -->
::: title
#### Capstone Progression
:::

::: left
<!-- element style="font-size: 24px"-->
- You will learn how malware works by reverse engineering samples, then reimplementing the capabilities observed.
:::
::: right

``` mermaid
flowchart TB
	A[Analyze]
	B[Implement]
	C[Integrate]
	A--> B
	B--> C
	C --> A
```

:::

---
<!-- slide template="[[Title Slide]]" -->
 ### This is a new field. All concepts learned in this class are directly applicable to industry. 

---
<!-- slide template="[[Title Slide]]" -->
 ###  Baseline Course Policies
---
<!-- slide template="[[Title Slide]]" -->
 ### Read the [[Syllabus]]
 
---
<!-- slide template="[[Base Slide]]" -->
::: title
#### Attendance

:::

<!-- element style="font-size: 24px"-->
- Attendance
 is mandatory. Unless cleared with me, you may not asynchronously take the course. 
- While I record lectures, they are often released 2-4 days after they are recorded. 
- I do not take attendance, but if I notice you missing class, it will affect your grade. 
- If you need to miss class for any reason, please contact me


---
<!-- slide template="[[Base Slide]]" -->
::: title
#### Class Comms

:::

<!-- element style="font-size: 24px"-->
- We have a dedicated [[Matrix Server]] `matrix.ch0nky.com` and you are expected to join. Please see the course docs for getting started.
- I will also respond to email, but will be slower there (at least 24-48 hours)
- If you have a personal question about course administration, job stuff, or anything else that you don’t think your fellow classmates can benefit from, you may DM
- If someone else can benefit from the question, please ask it publicly. 
- If you need help, Ask


---
<!-- slide template="[[Base Slide]]" -->
::: title
#### Academic Honesty

:::

<!-- element style="font-size: 24px"-->
- TLDR: Don’t cheat. Thnx
- Cheating and plagiarism of any kind will not be tolerated. 
- Cheating robs you of the experience of writing your own code, and in turn is a waste of your time and money.
- I will not tolerate anything that compromises your ability to learn in this class.
- You’re all adults, and know the drill. 

---
<!-- slide template="[[Base Slide]]" -->
::: title
#### Academic Honesty (cont)

:::

<!-- element style="font-size: 24px"-->
- If you submit code that is identical to another classmates, you will fail.
- If you collaborate when it is expressly forbidden, you will fail.
- If you copy and paste code you don't understand in the real world, you are incurring a lot of personal and institutional risk.
- If you would like to work in a group for homework assignments you can where permitted, but you can’t both submit the exact same code. You also need to clearly identify who you worked with and where your sources came from. 

---
<!-- slide template="[[Split Vertical]]" -->
::: title
 #### Academic Honesty (cont)
:::

::: left
<!-- element style="font-size: 24px"-->
- I am not a cop. 
- You are paying a lot of money to be here. 
- It is my job to make sure you get your monies worth
- It is your job to give this class your all
:::

::: right
![[neu-is-expensive.png| 300]]

:::

---
<!-- slide template="[[Split Vertical]]" -->
::: title
 #### Grading Policies
:::

::: left
<!-- element style="font-size: 24px"-->
- This is not a weed out course. You get what you put in, use the time to learn and try new things.  
- There is a curve, and the average is a B+
- If you are on the border of a letter grade, I will probably bump it.
- I do not curve grades down

:::

::: right
![[slide_22_image.png|300]]


:::

---
<!-- slide template="[[Split Vertical]]" -->
::: title
#### Difficulty	

:::
::: left 

<!-- element style="font-size: 24px"-->
- This class is not easy
- It is easy to spend hours on problems that are simple in hindsight
- The capstone will be very time consuming and will require you to work in a group

:::
::: right
<!-- element style="font-size: 24px"-->
> [!tip]Trying hard literally pays off!
 Many students have received job offers based on the work they did for the capstone!
:::
---
<!-- slide template="[[Base Slide]]" -->
::: title
#### Course Success Stories	

:::

<!-- element style="font-size: 24px"-->
- A snazy pair of exclusive course socks
- Free trip to DefCon
- Introduction to folks from industry
- Jobs lined up for high performers in the course 

---
<!-- slide template="[[Split Vertical]]" -->
::: title
 #### Difficulty (cont)	
:::

::: left
<!-- element style="font-size: 24px"-->
- Coding assignments will require you to read the documentation
- Reading the documentation can feel tedious but is a valuable skill in and of itself.
- Being a hacker means caring about material that others overlooked/trusted implicitly

**You should like getting into the weeds**

:::

::: right
![[slide_24_image.png|500]]


:::

---
<!-- slide template="[[Base Slide]]" -->
::: title 
Difficulty (cont)
:::
<!-- element style="font-size: 36px"-->
- Part of reverse engineering is analyzing techniques you have not seen before
- Assignments will regularly have content that has not been previously covered 
- There are no stupid questions but I might ask you to Google it :-)
---
<!-- slide template="[[Split Vertical]]" -->
::: title
 #### Difficulty (cont)	
:::

::: left
<!-- element style="font-size: 24px"-->
`<rant>` 
- Most of this content is simple in hindsight
- Simple != easy
- Getting comfortable being lost and 
working  out what is happening  is an essential skill for hacking

`</rant>`

:::

::: right
![[slide_25_image.png|400]]


:::

---
<!-- slide template="[[Title Slide]]" -->
 ## No Jail plz
---
<!-- slide template="[[Base Slide]]" -->
::: title
#### DON’T HACK 

:::

<!-- element style="font-size: 24px"-->
- I AM NOT A LAWYER.(IANAL)
- The  Computer Fraud and Abuse Act 1986: bans “
intentionally accessing a computer without authorization or in excess of authorization”.
- We will not protect you if you conduct operations or deploy any malware / tools outside your approved lab environment.
- We will not bail you out of jail

---
<!-- slide template="[[Base Slide]]" -->
::: title
#### DON’T HACK 

:::

<!-- element style="font-size: 24px"-->
-  Do not piss off anybody who has more time and money than you. The laws are intentionally vague, and the 
- Judges are technically illiterate
- You will lose and be made an example of. 
- When in doubt, ask course staff but always error on the side of caution!    


---
<!-- slide template="[[Split Vertical]]" -->
::: title
 #### Seriously, Don’t Hack Without Permission	
:::

::: left
<!-- element style="font-size: 24px"-->
- Aside from it being illegal,  immoral, creepy, and risky, you will fail the class.
- Plus,  the payout most criminal hackers get is considerably less than if you do the same job but call it “adversary emulation” or run a threat intel company. 


:::

::: right
![[slide_28_image.png|400]]


:::

---
<!-- slide template="[[Base Slide]]" -->
::: title
#### Do not F\*ck with the Government

:::

<!-- element style="font-size: 24px"-->
- The current geopolitical climate is hot.
- Countries haven’t regularly resorted to kinetic action in response to hacking, but that isn’t a hard and fast rule. It is a norm that might not be respected tomorrow 
- Do not, under any circumstances, hack a foreign or domestic government
. They have all the time, all the money, and capabilities that you cannot hope to compete with. 
- If you really want to do this kind of work, go get a clearance.
- ** *Kinetic*  is a euphemism for killing people.** 

---
<!-- slide template="[[Base Slide]]" -->
::: title
#### Use caution when publishing tools 

:::

<!-- element style="font-size: 30px"-->
- Plenty of researchers publish offensive security tools
- Some advance the field, some are published for clout. Be careful 
with
 especially sophisticated, easy to use, and low detection tools.
- Our job is to advance the security industry, not make script kiddies look good.
- Think long and hard about the implications of 
submitting
 (for example) a pull request to metasploit or 
open
 sourcing a RAT. 

---
<!-- slide template="[[Base Slide]]" -->
::: title
#### Be Thoughtful 

:::

<!-- element style="font-size: 28px"-->
- Threat actors use open source tools. 
- Don’t be the reason that a hospital gets hit with ransomware.
- If you do decide to publish tools, make sure to also include countermeasures that defenders can use to combat your tool.
- For questions about licenses, responsible disclosure, or advice on whether or not to publish a tool, please contact us! We are happy to provide feedback.

---
<!-- slide template="[[Title Slide]]" -->
 ## Grading Policy
---
<!-- slide template="[[Base Slide]]" -->
::: title
#### Late Policy

:::

<!-- element style="font-size: 24px"-->
- You are allocated 3 late days for the semester, and may use them at your discretion. 
- You may ask for more late days for extenuating circumstances. I am usually pretty reasonable when it comes to providing extensions.
- Late days may only be used on reverse engineering assignments, or coding assignments.
- There are no late days for the capstone project or exercises.
- I do not accept submissions for exercises if you are remote.


---
<!-- slide template="[[Split Vertical]]" -->
::: title
 #### Assignment Philosophy: 
:::

::: left
<!-- element style="font-size: 30px"-->
- The questions on homework assignments will increase in difficulty.
- Difficulty should be a spectrum
- Often times the solution is simple
- Simple != easy


:::

::: right
![[slide_34_image.png|300]]


:::

---
<!-- slide template="[[Split Vertical]]" -->
::: title
 #### RE: Reverse Engineering HW
:::

::: left
<!-- element style="font-size: 28px"-->
- Automatically graded for the most part.
- Will be time consuming.
- You are encouraged to to collaborate with classmates
- There are easter eggs for you to find 
- Easter eggs (flags) can be 
submitted
 for points in the class CTF

:::

::: right
![[slide_35_image.png|300]]


:::

---
<!-- slide template="[[Split Vertical]]" -->
::: title
 #### Re: Offensive Labs/code 
:::

::: left
<!-- element style="font-size: 28px"-->
- Assignments are automatically graded according to a handful of test cases.
- Partial credit is given on a case by case basis, but due to the size of the class, it is not guaranteed anywhere outside of the capstone.

:::

::: right
![[slide_36_image.png|300]]


:::

---
<!-- slide template="[[Split Vertical]]" -->
::: title
 #### RE: Coding Assignments
:::

::: left
<!-- element style="font-size: 26px"-->
- Coding 
assignments
 are auto graded.
- Unless otherwise stated, you may NOT work in groups for coding 
assignments.
-  You may only collaborate unless it is explicitly stated. 
- Coding assignments are meant to be completed solo!

:::

::: right
![[slide_37_image.png|400]]


:::

---
<!-- slide template="[[Split Vertical]]" -->
::: title
 #### RE: Exercises 
:::

::: left
<!-- element style="font-size: 24px"-->
- Exercises are weekly, quick turn around homework, and in class assignments 
- They are designed to be sanity checks for topics as the course progresses
- They are questions that should take between 5 and 10 minutes 
- Questions will always be based on recent material, but topics build on each other
- Bring your laptop to class.


:::

::: right
![[slide_38_image.png|300]]


:::

---
<!-- slide template="[[Split Vertical]]" -->
::: title
 #### CTF
:::

::: left
<!-- element style="font-size: 24px"-->
- Stay tuned for details on the semester long competition 
- There will be a prize :cowboy_hat_face:


:::

::: right
![[slide_39_image.png|300]]


:::

---
<!-- slide template="[[Base Slide]]" -->
::: title
#### Grading Breakdown

:::

<!-- element style="font-size: 24px"-->
#### Subject to change. 

- Malware Write up: 10%  
- Exercises: 5%
- Capture the Flag (CTF): 10%
- Reverse Engineering Assignments: 15% 
- Coding Assignments: 10%
- Capstone Project: 50% 

#### Bonus Points:
- Class Participation: 2.5% 
- Guest lecture attendance  2.5%



---
<!-- slide template="[[Split Vertical]]" -->
::: title
 #### Remarks about Mental Health
:::

::: left
<!-- element style="font-size: 22px"-->
- I give incompletes to students who have extenuating circumstances: usually medical emergencies.
- Mental health emergencies are medical emergencies.
- There will be some sections that discuss material that may be triggering to some. 
- Warnings will be given at the start of such lectures, and attendance is completely optional. 


:::

::: right
![[slide_41_image.png|300]]


:::

---
<!-- slide template="[[Base Slide]]" -->
::: title
#### To Reiterate

:::

<!-- element style="font-size: 24px"-->
- I give incompletes.
- If you say the words “I am having a mental health emergency and need an incomplete” you will get one, zero questions asked.

---
<!-- slide template="[[Title Slide]]" -->
 ## Course Lab Environment 
---
<!-- slide template="[[Split Vertical]]" -->
::: title
 #### Malware = Bad
:::

::: left
<!-- element style="font-size: 24px"-->
- In this class you will be analyzing and running real malware
- In order to reduce the risk of infecting your machine, all suspicious binaries should be run in a malware sandbox
	- This is a way for us to isolate potentially malicious code from  system resources.


:::

::: right
![[slide_44_image.png|300]]


:::

---
<!-- slide template="[[Split Vertical]]" -->
::: title
 #### [[Virtualization]]
:::

::: left
<!-- element style="font-size: 18px"-->
- VMWare/Virtualbox/Hyper-V:  hypervisor software.
- Hypervisor: Software to run virtual machines.
 

"A **Virtual Machine** (VM) is a compute resource that uses software instead of a physical computer to run programs and deploy apps. One or more virtual “guest” machines run on a physical “host” machine.  Each virtual machine runs its own operating system and functions separately from the other VMs, even when they are all running on the same host. This means that, for example, a virtual MacOS virtual machine can run on a physical PC."


:::

::: right
![[slide_45_image.png|300]]


:::

---
<!-- slide template="[[Split Vertical]]" -->
::: title
 #### [[Sandbox]]
:::

::: left
<!-- element style="font-size: 24px"-->
- Your first assignment is to create A malware analysis sandbox. 
- To accomplish this, you will make use of 
- A Hypervisor 
- Windows x1-2 (analysis and development)
- Ubuntu  (Analysis + Gateway) 

:::

::: right
![[slide_46_image.png|300]]


:::

---
<!-- slide template="[[Base Slide]]" -->
::: title
#### Course Lab Environment 

:::

<!-- element style="font-size: 24px"-->
- You are free to use any lab setup that you like, but the course staff will only provide technical assistance for VMs and Virtualization software officially supported by the class. 
- See Course Documentation for a walkthrough.
- Remember, take lots of Snapshots. VMs can sometimes be bit unstable.


---
<!-- slide template="[[Base Slide]]" -->
::: title
#### Mac M1 Users	

:::

<!-- element style="font-size: 24px"-->
- For folks who only have access to  computers that have ARM based CPUs (eg Mac M1/M2)  or less than 16GB of RAM, please contact me and I will get you setup on Azure platform.
---
<!-- slide template="[[Base Slide]]" -->
::: title
#### More Elaborate Setups

:::

<!-- element style="font-size: 24px"-->
- This lab setup is not sufficient for a real world triage environment
- For those of you who are interested, I will publish a bonus lecture that details how to use QEMU with  KVM/HAXM to create a more robust malware sandbox complete with a Firewall, analysis env…etc


---
<!-- slide template="[[Base Slide]]" -->
::: title
#### Course Administrative Technology 

:::

<!-- element style="font-size: 24px"-->
- Students are required to join the class Matrix Server. 
- All assignments are to be  submitted through GradeScope  
- Course notes, slides and assignment directions will use Obsidian.md 

---
<!-- slide template="[[Base Slide]]" -->
::: title
#### Requirements: Courses/Topics

:::

<!-- element style="font-size: 24px"-->
- Combinatorics
- Probability (recommended) 
- Computing systems : familiarity with memory management, c programming, reading assembly, using debuggers and compiler toolchains. 
- Basic cryptography: familiarity with Ciphers, MACs and Hash functions. Ideally also the idea behind asymmetric cryptography
- Computer Networks:  (TCP/IP/UDP/HTTP/TLS)
---
<!-- slide template="[[Base Slide]]" -->
::: title
#### Requirements: Tools 

:::

<!-- element style="font-size: 24px"-->
- GDB/experience debugging  native binaries
- Experience with compiler toolchains (compilers, linkers)
- Wireshark is a plus 
- As is Ghidra some other SRE framework

---
<!-- slide template="[[Base Slide]]" -->
::: title
#### Requirements: Programming/scripting

:::

<!-- element style="font-size: 24px"-->
- Python 3: you need to be very proficient with python. If you don't know python, Java is also OK but you will need to learn python :-)
- c/c++/some other systems programming language: you should be able to write simple C programs, know the difference between Stack and Heap memory, and how to manage memory 
- intel x86 assembly: you should be able to read x86 assembly.  
- Being able to write assembly is a plus!

---
<!-- slide template="[[Base Slide]]" -->
::: title
#### Requirements: Protocols

:::

<!-- element style="font-size: 24px"-->
- IP: you should know the difference between a private and public IP, the basics of addressing, and know the relationship between a domain name, DNS and an IP address
- TCP: More so the basics of socket programming, less so the internals of how reliability is achieved or what the handshake process looks like.
- DNS: You don't need to understand **how** DNS works, but you need to know what it does.
- TLS: You need to understand what a Certificate Authority is, a TLS cert is, and the basics of establishing secure tunnels 
- HTTP(s): HTTP verbs, request structure, and error codes

---
<!-- slide template="[[Base Slide]]" -->
::: title
#### Requirements: Computer

:::

<!-- element style="font-size: 24px"-->
- Ability to run 1 heavy VM and 1 lighter vm simultaneously.
- For that, you probably need a minimum of 16GB of RAM, a decent CPU, at least 100GB of storage 
	- If your computer is low on space, you can install the VM in an external SSD connected via USB3. You can find these at microcenter for around $50-100
- Intel/AMD based CPU.  
- Internet connection 

---
<!-- slide template="[[Base Slide]]" -->
::: title
#### Remarks about pre-requisite

:::

<!-- element style="font-size: 24px"-->
- Is Infosec for me?
- 	Short answer: yes
- 	Long answer: also yes 
- Do I have the right background for this class?
- Take a look at HW 0. 
- If you are lost, it might be a good idea to take this course next year! You are welcome to stick it out but you might need to put in extra work.


---
<!-- slide template="[[Base Slide]]" -->
::: title
#### Course Livestream		

:::

<!-- element style="font-size: 24px"-->
The course will be streamed via Twitch.

---
<!-- slide template="[[Base Slide]]" -->
::: title
#### Office Hours	

:::

<!-- element style="font-size: 24px"-->
- W/Fr after class in my office. 
- Where is my office?
- Good question. I don’t know :D

---
<!-- slide template="[[Base Slide]]" -->
::: title
#### Bonus/Guest Lectures	

:::

<!-- element style="font-size: 24px"-->
- Experts from industry, some of which are hiring, will periodically swing by to give a bonus lecture
- You should come if you can make it!
- There will often provide Pizza 


---
<!-- slide template="[[Title Slide]]" -->
 ## Questions?
---
<!-- slide template="[[Base Slide]]" -->
::: title
#### Homework

:::

<!-- element style="font-size: 24px"-->
- Join Matrix 
	- [Matrx](https://matrix.ch0nky.com/)
- Join Gradescope 
	- You should receive an email to join Gradescope 
- Download the VMs and setup your development 
environment
	- You will need  very good internet 
connection for this. 
	- Coffee shop internet will not cut it.
	- This will take a LONG time. Do not do this the night before 
	- Ubuntu takes ~1-2 hours to set up 
	- Windows takes ~1-2 hours to set up 
	- You should carve out some time in case you need to debug. 
		- Especially so if you plan on using the Azure env. it is brand new and likely to have some issues.


---
<!-- slide template="[[Base Slide]]" -->
::: title
#### Homework (Continued)

:::

<!-- element style="font-size: 24px"-->
- The lab environment is complex to setup: especially for folks who haven't used virtual machines before!
- The first assignment will be released on the course GitHub 
- It will require a working Lab environment
- It may or may not have some Easter Eggs :egg:


---
<!-- slide template="[[Base Slide]]" -->
::: title
#### Discussion	

:::

<!-- element style="font-size: 24px"-->
- What is malware?