<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />

    <title></title>
    <link rel="stylesheet" href="dist/reveal.css" />
    <link rel="stylesheet" href="dist/theme/night.css" id="theme" />
    <link rel="stylesheet" href="plugin/highlight/zenburn.css" />
	<link rel="stylesheet" href="css/layout.css" />
	<link rel="stylesheet" href="plugin/customcontrols/style.css">



    <script defer src="dist/fontawesome/all.min.js"></script>

	<script type="text/javascript">
		var forgetPop = true;
		function onPopState(event) {
			if(forgetPop){
				forgetPop = false;
			} else {
				parent.postMessage(event.target.location.href, "app://obsidian.md");
			}
        }
		window.onpopstate = onPopState;
		window.onmessage = event => {
			if(event.data == "reload"){
				window.document.location.reload();
			}
			forgetPop = true;
		}

		function fitElements(){
			const itemsToFit = document.getElementsByClassName('fitText');
			for (const item in itemsToFit) {
				if (Object.hasOwnProperty.call(itemsToFit, item)) {
					var element = itemsToFit[item];
					fitElement(element,1, 1000);
					element.classList.remove('fitText');
				}
			}
		}

		function fitElement(element, start, end){

			let size = (end + start) / 2;
			element.style.fontSize = `${size}px`;

			if(Math.abs(start - end) < 1){
				while(element.scrollHeight > element.offsetHeight){
					size--;
					element.style.fontSize = `${size}px`;
				}
				return;
			}

			if(element.scrollHeight > element.offsetHeight){
				fitElement(element, start, size);
			} else {
				fitElement(element, size, end);
			}		
		}


		document.onreadystatechange = () => {
			fitElements();
			if (document.readyState === 'complete') {
				if (window.location.href.indexOf("?export") != -1){
					parent.postMessage(event.target.location.href, "app://obsidian.md");
				}
				if (window.location.href.indexOf("print-pdf") != -1){
					let stateCheck = setInterval(() => {
						clearInterval(stateCheck);
						window.print();
					}, 250);
				}
			}
	};


        </script>
  </head>
  <body>
    <div class="reveal">
      <div class="slides"><section  data-markdown><script type="text/template"><!-- .slide: class="drop" background-size="auto" data-background-image="Green Logo.svg" -->
<div class="" style="position: absolute; left: 0px; top: 0px; height: 540px; width: 960px; min-height: 540px; display: flex; flex-direction: column; align-items: center; justify-content: center" absolute="true">


</div></script></section><section  data-markdown><script type="text/template"><!-- .slide: class="drop" -->
<div class="" style="position: absolute; left: 0px; top: 0px; height: 540px; width: 960px; min-height: 540px; display: flex; flex-direction: column; align-items: center; justify-content: center" absolute="true">

<style> 
font-family: Consolas,monaco,monospace !important; 
</style>

<div class="" style="background: linear-gradient(#0a0b0a, #1d231d); position: absolute; left: 0%; top: 0%; height: 100%; width: 100%; display: flex; flex-direction: column; align-items: center; justify-content: center" >

<div class="has-light-background" style="background-color: #62ff62; padding: 0 20px; box-sizing: border-box; position: absolute; left: 0%; top: 0%; height: 10%; width: 100%; display: flex; flex-direction: column; align-items: flex-start; justify-content: space-evenly" align="left">

 <div class="block">

#### CS-4973
</div>


</div>

<div class="" style="position: absolute; left: 3%; top: 13%; height: 87%; width: 45%; display: flex; flex-direction: column; align-items: flex-start; justify-content: flex-start" align="left">

<div class="block">

<img src="Green Logo.svg" alt="" style="object-fit: fill; width: 400px">


</div>


</div>

<div class="" style="position: absolute; left: 50%; top: 13%; height: 75%; width: 45%; display: flex; flex-direction: column; align-items: flex-start; justify-content: flex-start" align="left">

<div class="block">

<!-- .element: style="font-size: 32px; align: center" -->
Introduction to Malware, Threat Hunting & Offensive Capabilities Development
</div>


</div>

<small>









</small>

<style>
.horizontal_dotted_line{
  border-bottom: 2px dotted #62ff62;
}
} 
</style>

<div class="horizontal_dotted_line" style="position: absolute; left: 3%; top: 94%; height: 0%; width: 94%; display: flex; flex-direction: column; align-items: center; justify-content: center" >

</div>

<div class="" style="padding: 0 30px; box-sizing: border-box; position: absolute; left: 0%; top: 64%; height: 30%; width: 100%; display: flex; flex-direction: column; align-items: flex-start; justify-content: flex-end" align="left">


</div>

<div class="" style="position: absolute; left: 0%; top: 94%; height: 6%; width: 100%; display: flex; flex-direction: column; align-items: center; justify-content: center" >

###### ¬© 2024 Ch0nky LTD<!-- .element: style="font-weight: 300" -->
</div>
</div>
</div></script></section><section  data-markdown><script type="text/template"><!-- .slide: class="drop" -->
<div class="" style="position: absolute; left: 0px; top: 0px; height: 540px; width: 960px; min-height: 540px; display: flex; flex-direction: column; align-items: center; justify-content: center" absolute="true">

<style> 
font-family: Consolas,monaco,monospace !important; 
</style>

<div class="" style="background: linear-gradient(#0a0b0a, #1d231d); position: absolute; left: 0%; top: 0%; height: 100%; width: 100%; display: flex; flex-direction: column; align-items: center; justify-content: center" >


<div class="" style="position: absolute; left: 5%; top: 13%; height: 66%; width: 90%; display: flex; flex-direction: column; align-items: center; justify-content: center" align="center">

## <span style="color:#62ff62">
 ## Lecture 0x03: 
Introduction to Windows Internals and C programing 
</span>
</div>

<style>
.horizontal_dotted_line{
  border-bottom: 2px dotted #62ff62;
}
} 
</style>

<div class="horizontal_dotted_line" style="position: absolute; left: 3%; top: 94%; height: 0%; width: 94%; display: flex; flex-direction: column; align-items: center; justify-content: center" >

</div>

<div class="" style="padding: 0 30px; box-sizing: border-box; position: absolute; left: 0%; top: 64%; height: 30%; width: 100%; display: flex; flex-direction: column; align-items: flex-start; justify-content: flex-end" align="left">


</div>

<div class="" style="position: absolute; left: 0%; top: 94%; height: 6%; width: 100%; display: flex; flex-direction: column; align-items: center; justify-content: center" >

###### ¬© 2024 Ch0nky LTD<!-- .element: style="font-weight: 300" -->
</div>
</div>
</div></script></section><section  data-markdown><script type="text/template"><!-- .slide: class="drop" -->
<div class="" style="position: absolute; left: 0px; top: 0px; height: 540px; width: 960px; min-height: 540px; display: flex; flex-direction: column; align-items: center; justify-content: center" absolute="true">

<style> 
font-family: Consolas,monaco,monospace !important; 
</style>

<div class="" style="background: linear-gradient(#0a0b0a, #1d231d); position: absolute; left: 0%; top: 0%; height: 100%; width: 100%; display: flex; flex-direction: column; align-items: center; justify-content: center" >

<div class="has-light-background" style="background-color: #62ff62; padding: 0 20px; box-sizing: border-box; position: absolute; left: 0%; top: 0%; height: 10%; width: 100%; display: flex; flex-direction: column; align-items: flex-start; justify-content: space-evenly" align="left">

 <div class="block">

#### Agenda for Today: Windows Basics

</div>


</div>

<div class="" style="position: absolute; left: 3%; top: 13%; height: 87%; width: 45%; display: flex; flex-direction: column; align-items: flex-start; justify-content: flex-start" align="left">

<div class="block">

<!-- .element: style="font-size: 24px" -->
- Core OS Concepts 
- Basic Windows Internals 
- C and the Windows API

</div>


</div>

<div class="" style="position: absolute; left: 50%; top: 13%; height: 75%; width: 45%; display: flex; flex-direction: column; align-items: flex-start; justify-content: flex-start" align="left">

<div class="block">

<img src="MalwareCourse/Memes/0x02_slide_3_image.png" alt="" style="width: 400px; object-fit: fill">



</div>


</div>

<small>









</small>

<style>
.horizontal_dotted_line{
  border-bottom: 2px dotted #62ff62;
}
} 
</style>

<div class="horizontal_dotted_line" style="position: absolute; left: 3%; top: 94%; height: 0%; width: 94%; display: flex; flex-direction: column; align-items: center; justify-content: center" >

</div>

<div class="" style="padding: 0 30px; box-sizing: border-box; position: absolute; left: 0%; top: 64%; height: 30%; width: 100%; display: flex; flex-direction: column; align-items: flex-start; justify-content: flex-end" align="left">


</div>

<div class="" style="position: absolute; left: 0%; top: 94%; height: 6%; width: 100%; display: flex; flex-direction: column; align-items: center; justify-content: center" >

###### ¬© 2024 Ch0nky LTD<!-- .element: style="font-weight: 300" -->
</div>
</div>
</div></script></section><section  data-markdown><script type="text/template"><!-- .slide: class="drop" -->
<div class="" style="position: absolute; left: 0px; top: 0px; height: 540px; width: 960px; min-height: 540px; display: flex; flex-direction: column; align-items: center; justify-content: center" absolute="true">

<style> 
font-family: Consolas,monaco,monospace !important; 
</style>

<div class="" style="background: linear-gradient(#0a0b0a, #1d231d); position: absolute; left: 0%; top: 0%; height: 100%; width: 100%; display: flex; flex-direction: column; align-items: center; justify-content: center" >

<div class="has-light-background" style="background-color: #62ff62; padding: 0 20px; box-sizing: border-box; position: absolute; left: 0%; top: 0%; height: 10%; width: 100%; display: flex; flex-direction: column; align-items: flex-start; justify-content: space-evenly" align="left">

 <div class="block">

#### CrackMe HW Will be up By tomorrow
</div>


</div>

<div class="" style="position: absolute; left: 3%; top: 13%; height: 87%; width: 45%; display: flex; flex-direction: column; align-items: flex-start; justify-content: flex-start" align="left">

<div class="block">

<!-- .element: style="font-size: 18px" -->
- You should get started on this ASAP. 
- In this assignment you will get exposed to CrackMes: puzzles used to practice your reverse engineering skills!
- The goal is simple: Find the input that makes the binary print ‚ÄúCracked!‚Äù
- In this assignment you will get comfortable staring at some basic assembly, and finding the main function when a C-runtime is used.
- You don‚Äôt have to ever run the binary, but you can to verify your answer!


</div>


</div>

<div class="" style="position: absolute; left: 50%; top: 13%; height: 75%; width: 45%; display: flex; flex-direction: column; align-items: flex-start; justify-content: flex-start" align="left">

<div class="block">

<img src="MalwareCourse/Memes/0x04_slide_77_image.png" alt="" style="width: 300px; object-fit: fill">



</div>


</div>

<small>







</small>

<style>
.horizontal_dotted_line{
  border-bottom: 2px dotted #62ff62;
}
} 
</style>

<div class="horizontal_dotted_line" style="position: absolute; left: 3%; top: 94%; height: 0%; width: 94%; display: flex; flex-direction: column; align-items: center; justify-content: center" >

</div>

<div class="" style="padding: 0 30px; box-sizing: border-box; position: absolute; left: 0%; top: 64%; height: 30%; width: 100%; display: flex; flex-direction: column; align-items: flex-start; justify-content: flex-end" align="left">


</div>

<div class="" style="position: absolute; left: 0%; top: 94%; height: 6%; width: 100%; display: flex; flex-direction: column; align-items: center; justify-content: center" >

###### ¬© 2024 Ch0nky LTD<!-- .element: style="font-weight: 300" -->
</div>
</div>
</div></script></section><section  data-markdown><script type="text/template"><!-- .slide: class="drop" -->
<div class="" style="position: absolute; left: 0px; top: 0px; height: 540px; width: 960px; min-height: 540px; display: flex; flex-direction: column; align-items: center; justify-content: center" absolute="true">

<style> 
font-family: Consolas,monaco,monospace !important; 
</style>

<div class="" style="background: linear-gradient(#0a0b0a, #1d231d); position: absolute; left: 0%; top: 0%; height: 100%; width: 100%; display: flex; flex-direction: column; align-items: center; justify-content: center" >

<div class="has-light-background" style="background-color: #62ff62; padding: 0 20px; box-sizing: border-box; position: absolute; left: 0%; top: 0%; height: 10%; width: 100%; display: flex; flex-direction: column; align-items: flex-start; justify-content: space-evenly" align="left">

 <div class="block">

#### Get started soon!
</div>


</div>

<div class="" style="position: absolute; left: 3%; top: 13%; height: 87%; width: 45%; display: flex; flex-direction: column; align-items: flex-start; justify-content: flex-start" align="left">

<div class="block">

<!-- .element: style="font-size: 24px" -->
- If you don‚Äôt have previous reverse engineering experience, you probably can‚Äôt do this homework the night before it is due!
- Get started ASAP: it is difficult to predict where you will get stuck!
- None of the CrackMes are designed to trick you per say, but they might not be straight forward!


</div>


</div>

<div class="" style="position: absolute; left: 50%; top: 13%; height: 75%; width: 45%; display: flex; flex-direction: column; align-items: flex-start; justify-content: flex-start" align="left">

<div class="block">

<img src="MalwareCourse/Memes/0x04_slide_78_image.png" alt="" style="width: 250px; object-fit: fill">



</div>


</div>

<small>








</small>

<style>
.horizontal_dotted_line{
  border-bottom: 2px dotted #62ff62;
}
} 
</style>

<div class="horizontal_dotted_line" style="position: absolute; left: 3%; top: 94%; height: 0%; width: 94%; display: flex; flex-direction: column; align-items: center; justify-content: center" >

</div>

<div class="" style="padding: 0 30px; box-sizing: border-box; position: absolute; left: 0%; top: 64%; height: 30%; width: 100%; display: flex; flex-direction: column; align-items: flex-start; justify-content: flex-end" align="left">


</div>

<div class="" style="position: absolute; left: 0%; top: 94%; height: 6%; width: 100%; display: flex; flex-direction: column; align-items: center; justify-content: center" >

###### ¬© 2024 Ch0nky LTD<!-- .element: style="font-weight: 300" -->
</div>
</div>
</div></script></section><section  data-markdown><script type="text/template"><!-- .slide: class="drop" -->
<div class="" style="position: absolute; left: 0px; top: 0px; height: 540px; width: 960px; min-height: 540px; display: flex; flex-direction: column; align-items: center; justify-content: center" absolute="true">

<style> 
font-family: Consolas,monaco,monospace !important; 
</style>

<div class="" style="background: linear-gradient(#0a0b0a, #1d231d); position: absolute; left: 0%; top: 0%; height: 100%; width: 100%; display: flex; flex-direction: column; align-items: center; justify-content: center" >


<div class="" style="position: absolute; left: 5%; top: 13%; height: 66%; width: 90%; display: flex; flex-direction: column; align-items: center; justify-content: center" align="center">

## <span style="color:#62ff62">
 ## The Windows Operating System</span>
</div>

<style>
.horizontal_dotted_line{
  border-bottom: 2px dotted #62ff62;
}
} 
</style>

<div class="horizontal_dotted_line" style="position: absolute; left: 3%; top: 94%; height: 0%; width: 94%; display: flex; flex-direction: column; align-items: center; justify-content: center" >

</div>

<div class="" style="padding: 0 30px; box-sizing: border-box; position: absolute; left: 0%; top: 64%; height: 30%; width: 100%; display: flex; flex-direction: column; align-items: flex-start; justify-content: flex-end" align="left">


</div>

<div class="" style="position: absolute; left: 0%; top: 94%; height: 6%; width: 100%; display: flex; flex-direction: column; align-items: center; justify-content: center" >

###### ¬© 2024 Ch0nky LTD<!-- .element: style="font-weight: 300" -->
</div>
</div>
</div></script></section><section  data-markdown><script type="text/template"><!-- .slide: class="drop" -->
<div class="" style="position: absolute; left: 0px; top: 0px; height: 540px; width: 960px; min-height: 540px; display: flex; flex-direction: column; align-items: center; justify-content: center" absolute="true">

<style> 
font-family: Consolas,monaco,monospace !important; 
</style>

<div class="" style="background: linear-gradient(#0a0b0a, #1d231d); position: absolute; left: 0%; top: 0%; height: 100%; width: 100%; display: flex; flex-direction: column; align-items: center; justify-content: center" >

<div class="has-light-background" style="background-color: #62ff62; padding: 0 20px; box-sizing: border-box; position: absolute; left: 0%; top: 0%; height: 10%; width: 100%; display: flex; flex-direction: column; align-items: flex-start; justify-content: space-evenly" align="left">

 <div class="block">

#### What is an Operating System

</div>


</div>
<div class="" style="padding: 5px 15px; box-sizing: border-box; position: absolute; left: 3%; top: 13%; height: 66%; width: 90%; display: flex; flex-direction: column; align-items: flex-start; justify-content: space-evenly" align="left">




<!-- .element: style="font-size: 24px" -->
- A fancy resource manager. 
- It abstracts away the managing of physical devices (CPU, Memory, I/O devices‚Ä¶etc)
- The core mechanism for abstracting away resources is *virtualizaion*
- This is effectively a level of indirection and an exported interface 


</div>

<style>
.horizontal_dotted_line{
  border-bottom: 2px dotted #62ff62;
}
} 
</style>

<div class="horizontal_dotted_line" style="position: absolute; left: 3%; top: 94%; height: 0%; width: 94%; display: flex; flex-direction: column; align-items: center; justify-content: center" >

</div>

<div class="" style="padding: 0 30px; box-sizing: border-box; position: absolute; left: 0%; top: 64%; height: 30%; width: 100%; display: flex; flex-direction: column; align-items: flex-start; justify-content: flex-end" align="left">


</div>

<div class="" style="position: absolute; left: 0%; top: 94%; height: 6%; width: 100%; display: flex; flex-direction: column; align-items: center; justify-content: center" >


###### ¬© 2024 Ch0nky LTD<!-- .element: style="font-weight: 300, color" -->
</div>
</div>
</div></script></section><section  data-markdown><script type="text/template"><!-- .slide: class="drop" -->
<div class="" style="position: absolute; left: 0px; top: 0px; height: 540px; width: 960px; min-height: 540px; display: flex; flex-direction: column; align-items: center; justify-content: center" absolute="true">

<style> 
font-family: Consolas,monaco,monospace !important; 
</style>

<div class="" style="background: linear-gradient(#0a0b0a, #1d231d); position: absolute; left: 0%; top: 0%; height: 100%; width: 100%; display: flex; flex-direction: column; align-items: center; justify-content: center" >

<div class="has-light-background" style="background-color: #62ff62; padding: 0 20px; box-sizing: border-box; position: absolute; left: 0%; top: 0%; height: 10%; width: 100%; display: flex; flex-direction: column; align-items: flex-start; justify-content: space-evenly" align="left">

 <div class="block">

#### Operating System Kernel 

</div>


</div>
<div class="" style="padding: 5px 15px; box-sizing: border-box; position: absolute; left: 3%; top: 13%; height: 66%; width: 90%; display: flex; flex-direction: column; align-items: flex-start; justify-content: space-evenly" align="left">




<!-- .element: style="font-size: 24px" -->
- Responsible for servicing requests and translating them into instructions compatible with computer hardware including the CPU, Memory, I/O devices‚Ä¶etc
- Often provides an interface for userland applications to interact indirectly with resources

</div>

<style>
.horizontal_dotted_line{
  border-bottom: 2px dotted #62ff62;
}
} 
</style>

<div class="horizontal_dotted_line" style="position: absolute; left: 3%; top: 94%; height: 0%; width: 94%; display: flex; flex-direction: column; align-items: center; justify-content: center" >

</div>

<div class="" style="padding: 0 30px; box-sizing: border-box; position: absolute; left: 0%; top: 64%; height: 30%; width: 100%; display: flex; flex-direction: column; align-items: flex-start; justify-content: flex-end" align="left">


</div>

<div class="" style="position: absolute; left: 0%; top: 94%; height: 6%; width: 100%; display: flex; flex-direction: column; align-items: center; justify-content: center" >


###### ¬© 2024 Ch0nky LTD<!-- .element: style="font-weight: 300, color" -->
</div>
</div>
</div></script></section><section  data-markdown><script type="text/template"><!-- .slide: class="drop" -->
<div class="" style="position: absolute; left: 0px; top: 0px; height: 540px; width: 960px; min-height: 540px; display: flex; flex-direction: column; align-items: center; justify-content: center" absolute="true">

<style> 
font-family: Consolas,monaco,monospace !important; 
</style>

<div class="" style="background: linear-gradient(#0a0b0a, #1d231d); position: absolute; left: 0%; top: 0%; height: 100%; width: 100%; display: flex; flex-direction: column; align-items: center; justify-content: center" >

<div class="has-light-background" style="background-color: #62ff62; padding: 0 20px; box-sizing: border-box; position: absolute; left: 0%; top: 0%; height: 10%; width: 100%; display: flex; flex-direction: column; align-items: flex-start; justify-content: space-evenly" align="left">

 <div class="block">

#### The Windows Operating System

</div>


</div>
<div class="" style="padding: 5px 15px; box-sizing: border-box; position: absolute; left: 3%; top: 13%; height: 66%; width: 90%; display: flex; flex-direction: column; align-items: flex-start; justify-content: space-evenly" align="left">




<!-- .element: style="font-size: 24px" -->
- Proprietary Operating System Developed by Microsoft 
- Multi Arch: 32/64 bit, preemptive multitasking operating system
- Primary flavors are Client, Server  
	- Others include IOT, CE, Xbox, Some defunct targeting mobile‚Ä¶etc
- We will focus on Windows (10) Client/Server

</div>

<style>
.horizontal_dotted_line{
  border-bottom: 2px dotted #62ff62;
}
} 
</style>

<div class="horizontal_dotted_line" style="position: absolute; left: 3%; top: 94%; height: 0%; width: 94%; display: flex; flex-direction: column; align-items: center; justify-content: center" >

</div>

<div class="" style="padding: 0 30px; box-sizing: border-box; position: absolute; left: 0%; top: 64%; height: 30%; width: 100%; display: flex; flex-direction: column; align-items: flex-start; justify-content: flex-end" align="left">


</div>

<div class="" style="position: absolute; left: 0%; top: 94%; height: 6%; width: 100%; display: flex; flex-direction: column; align-items: center; justify-content: center" >


###### ¬© 2024 Ch0nky LTD<!-- .element: style="font-weight: 300, color" -->
</div>
</div>
</div></script></section><section  data-markdown><script type="text/template"><!-- .slide: class="drop" -->
<div class="" style="position: absolute; left: 0px; top: 0px; height: 540px; width: 960px; min-height: 540px; display: flex; flex-direction: column; align-items: center; justify-content: center" absolute="true">

<style> 
font-family: Consolas,monaco,monospace !important; 
</style>

<div class="" style="background: linear-gradient(#0a0b0a, #1d231d); position: absolute; left: 0%; top: 0%; height: 100%; width: 100%; display: flex; flex-direction: column; align-items: center; justify-content: center" >

<div class="has-light-background" style="background-color: #62ff62; padding: 0 20px; box-sizing: border-box; position: absolute; left: 0%; top: 0%; height: 10%; width: 100%; display: flex; flex-direction: column; align-items: flex-start; justify-content: space-evenly" align="left">

 <div class="block">

#### Devices that run Windows

</div>


</div>
<div class="" style="padding: 5px 15px; box-sizing: border-box; position: absolute; left: 3%; top: 13%; height: 66%; width: 90%; display: flex; flex-direction: column; align-items: flex-start; justify-content: space-evenly" align="left">




<!-- .element: style="font-size: 24px" -->
- Desktop computers
- Servers
- Laptops
- Tablets
- XBox (technically a fork of Windows 2000)
- Different devices have different considerations (battery, screen size, memory, storage ‚Ä¶etc)


</div>

<style>
.horizontal_dotted_line{
  border-bottom: 2px dotted #62ff62;
}
} 
</style>

<div class="horizontal_dotted_line" style="position: absolute; left: 3%; top: 94%; height: 0%; width: 94%; display: flex; flex-direction: column; align-items: center; justify-content: center" >

</div>

<div class="" style="padding: 0 30px; box-sizing: border-box; position: absolute; left: 0%; top: 64%; height: 30%; width: 100%; display: flex; flex-direction: column; align-items: flex-start; justify-content: flex-end" align="left">


</div>

<div class="" style="position: absolute; left: 0%; top: 94%; height: 6%; width: 100%; display: flex; flex-direction: column; align-items: center; justify-content: center" >


###### ¬© 2024 Ch0nky LTD<!-- .element: style="font-weight: 300, color" -->
</div>
</div>
</div></script></section><section  data-markdown><script type="text/template"><!-- .slide: class="drop" -->
<div class="" style="position: absolute; left: 0px; top: 0px; height: 540px; width: 960px; min-height: 540px; display: flex; flex-direction: column; align-items: center; justify-content: center" absolute="true">

<style> 
font-family: Consolas,monaco,monospace !important; 
</style>

<div class="" style="background: linear-gradient(#0a0b0a, #1d231d); position: absolute; left: 0%; top: 0%; height: 100%; width: 100%; display: flex; flex-direction: column; align-items: center; justify-content: center" >

<div class="has-light-background" style="background-color: #62ff62; padding: 0 20px; box-sizing: border-box; position: absolute; left: 0%; top: 0%; height: 10%; width: 100%; display: flex; flex-direction: column; align-items: flex-start; justify-content: space-evenly" align="left">

 <div class="block">

#### (Some) Windows Design Principles

</div>


</div>
<div class="" style="padding: 5px 15px; box-sizing: border-box; position: absolute; left: 3%; top: 13%; height: 66%; width: 90%; display: flex; flex-direction: column; align-items: flex-start; justify-content: space-evenly" align="left">




<!-- .element: style="font-size: 24px" -->
- Extensibility
- Portability
- Reliability  
- Performance
- Compatibility
- Security 

</div>

<style>
.horizontal_dotted_line{
  border-bottom: 2px dotted #62ff62;
}
} 
</style>

<div class="horizontal_dotted_line" style="position: absolute; left: 3%; top: 94%; height: 0%; width: 94%; display: flex; flex-direction: column; align-items: center; justify-content: center" >

</div>

<div class="" style="padding: 0 30px; box-sizing: border-box; position: absolute; left: 0%; top: 64%; height: 30%; width: 100%; display: flex; flex-direction: column; align-items: flex-start; justify-content: flex-end" align="left">


</div>

<div class="" style="position: absolute; left: 0%; top: 94%; height: 6%; width: 100%; display: flex; flex-direction: column; align-items: center; justify-content: center" >


###### ¬© 2024 Ch0nky LTD<!-- .element: style="font-weight: 300, color" -->
</div>
</div>
</div></script></section><section  data-markdown><script type="text/template"><!-- .slide: class="drop" -->
<div class="" style="position: absolute; left: 0px; top: 0px; height: 540px; width: 960px; min-height: 540px; display: flex; flex-direction: column; align-items: center; justify-content: center" absolute="true">

<style> 
font-family: Consolas,monaco,monospace !important; 
</style>

<div class="" style="background: linear-gradient(#0a0b0a, #1d231d); position: absolute; left: 0%; top: 0%; height: 100%; width: 100%; display: flex; flex-direction: column; align-items: center; justify-content: center" >

<div class="has-light-background" style="background-color: #62ff62; padding: 0 20px; box-sizing: border-box; position: absolute; left: 0%; top: 0%; height: 10%; width: 100%; display: flex; flex-direction: column; align-items: flex-start; justify-content: space-evenly" align="left">

 <div class="block">

#### Extensibility 



</div>


</div>
<div class="" style="padding: 5px 15px; box-sizing: border-box; position: absolute; left: 3%; top: 13%; height: 66%; width: 90%; display: flex; flex-direction: column; align-items: flex-start; justify-content: space-evenly" align="left">




<!-- .element: style="font-size: 24px" -->
- The bulk of system services are provided by the Executive
- The Windows OS is technically a Hybrid Kernel but...
	- One driver can mess with another driver. Kernel memory is shared 
- Separates  userland execution 
environments into ‚Äúsubsystems‚Äù
- Each subsystem has the ability to execute a type of application
- This provides a modular setup where changes to execution environments
 don‚Äôt necessarily necessitate changes to the executive 



</div>

<style>
.horizontal_dotted_line{
  border-bottom: 2px dotted #62ff62;
}
} 
</style>

<div class="horizontal_dotted_line" style="position: absolute; left: 3%; top: 94%; height: 0%; width: 94%; display: flex; flex-direction: column; align-items: center; justify-content: center" >

</div>

<div class="" style="padding: 0 30px; box-sizing: border-box; position: absolute; left: 0%; top: 64%; height: 30%; width: 100%; display: flex; flex-direction: column; align-items: flex-start; justify-content: flex-end" align="left">


</div>

<div class="" style="position: absolute; left: 0%; top: 94%; height: 6%; width: 100%; display: flex; flex-direction: column; align-items: center; justify-content: center" >


###### ¬© 2024 Ch0nky LTD<!-- .element: style="font-weight: 300, color" -->
</div>
</div>
</div></script></section><section  data-markdown><script type="text/template"><!-- .slide: class="drop" -->
<div class="" style="position: absolute; left: 0px; top: 0px; height: 540px; width: 960px; min-height: 540px; display: flex; flex-direction: column; align-items: center; justify-content: center" absolute="true">

<style> 
font-family: Consolas,monaco,monospace !important; 
</style>

<div class="" style="background: linear-gradient(#0a0b0a, #1d231d); position: absolute; left: 0%; top: 0%; height: 100%; width: 100%; display: flex; flex-direction: column; align-items: center; justify-content: center" >

<div class="has-light-background" style="background-color: #62ff62; padding: 0 20px; box-sizing: border-box; position: absolute; left: 0%; top: 0%; height: 10%; width: 100%; display: flex; flex-direction: column; align-items: flex-start; justify-content: space-evenly" align="left">

 <div class="block">

#### Portability

</div>


</div>
<div class="" style="padding: 5px 15px; box-sizing: border-box; position: absolute; left: 3%; top: 13%; height: 66%; width: 90%; display: flex; flex-direction: column; align-items: flex-start; justify-content: space-evenly" align="left">




<!-- .element: style="font-size: 24px" -->
- Windows will run on a wide variety of systems. 
- The bulk of the OS is written in C and C++
	- The rest is bundles of code used for processor specific instructions (Eg Arm vs intel/amd)
- Platform dependent code is implemented in the Hardware Abstraction Layer (HAL)
- This is less magical than it was 10 years ago as most modern OSes support variety in hardware/architecture


</div>

<style>
.horizontal_dotted_line{
  border-bottom: 2px dotted #62ff62;
}
} 
</style>

<div class="horizontal_dotted_line" style="position: absolute; left: 3%; top: 94%; height: 0%; width: 94%; display: flex; flex-direction: column; align-items: center; justify-content: center" >

</div>

<div class="" style="padding: 0 30px; box-sizing: border-box; position: absolute; left: 0%; top: 64%; height: 30%; width: 100%; display: flex; flex-direction: column; align-items: flex-start; justify-content: flex-end" align="left">


</div>

<div class="" style="position: absolute; left: 0%; top: 94%; height: 6%; width: 100%; display: flex; flex-direction: column; align-items: center; justify-content: center" >


###### ¬© 2024 Ch0nky LTD<!-- .element: style="font-weight: 300, color" -->
</div>
</div>
</div></script></section><section  data-markdown><script type="text/template"><!-- .slide: class="drop" -->
<div class="" style="position: absolute; left: 0px; top: 0px; height: 540px; width: 960px; min-height: 540px; display: flex; flex-direction: column; align-items: center; justify-content: center" absolute="true">

<style> 
font-family: Consolas,monaco,monospace !important; 
</style>

<div class="" style="background: linear-gradient(#0a0b0a, #1d231d); position: absolute; left: 0%; top: 0%; height: 100%; width: 100%; display: flex; flex-direction: column; align-items: center; justify-content: center" >

<div class="has-light-background" style="background-color: #62ff62; padding: 0 20px; box-sizing: border-box; position: absolute; left: 0%; top: 0%; height: 10%; width: 100%; display: flex; flex-direction: column; align-items: flex-start; justify-content: space-evenly" align="left">

 <div class="block">

#### Reliability

</div>


</div>
<div class="" style="padding: 5px 15px; box-sizing: border-box; position: absolute; left: 3%; top: 13%; height: 66%; width: 90%; display: flex; flex-direction: column; align-items: flex-start; justify-content: space-evenly" align="left">




<!-- .element: style="font-size: 24px" -->
- User applications should not be able to corrupt the operating system
- Windows audits most drivers and has rigorous standards for which drivers are officially signed
- That said, malicious drivers can muck around with kernel memory. There are countermeasures for this. (eg Driver Guard) but they are mitigations.

</div>

<style>
.horizontal_dotted_line{
  border-bottom: 2px dotted #62ff62;
}
} 
</style>

<div class="horizontal_dotted_line" style="position: absolute; left: 3%; top: 94%; height: 0%; width: 94%; display: flex; flex-direction: column; align-items: center; justify-content: center" >

</div>

<div class="" style="padding: 0 30px; box-sizing: border-box; position: absolute; left: 0%; top: 64%; height: 30%; width: 100%; display: flex; flex-direction: column; align-items: flex-start; justify-content: flex-end" align="left">


</div>

<div class="" style="position: absolute; left: 0%; top: 94%; height: 6%; width: 100%; display: flex; flex-direction: column; align-items: center; justify-content: center" >


###### ¬© 2024 Ch0nky LTD<!-- .element: style="font-weight: 300, color" -->
</div>
</div>
</div></script></section><section  data-markdown><script type="text/template"><!-- .slide: class="drop" -->
<div class="" style="position: absolute; left: 0px; top: 0px; height: 540px; width: 960px; min-height: 540px; display: flex; flex-direction: column; align-items: center; justify-content: center" absolute="true">

<style> 
font-family: Consolas,monaco,monospace !important; 
</style>

<div class="" style="background: linear-gradient(#0a0b0a, #1d231d); position: absolute; left: 0%; top: 0%; height: 100%; width: 100%; display: flex; flex-direction: column; align-items: center; justify-content: center" >

<div class="has-light-background" style="background-color: #62ff62; padding: 0 20px; box-sizing: border-box; position: absolute; left: 0%; top: 0%; height: 10%; width: 100%; display: flex; flex-direction: column; align-items: flex-start; justify-content: space-evenly" align="left">

 <div class="block">

#### Performance
</div>


</div>

<div class="" style="position: absolute; left: 3%; top: 13%; height: 87%; width: 45%; display: flex; flex-direction: column; align-items: flex-start; justify-content: flex-start" align="left">

<div class="block">

<!-- .element: style="font-size: 24px" -->
- Should be fast. ü§∑
- async I/O
- Multi threaded

</div>


</div>

<div class="" style="position: absolute; left: 50%; top: 13%; height: 75%; width: 45%; display: flex; flex-direction: column; align-items: flex-start; justify-content: flex-start" align="left">

<div class="block">

<img src="MalwareCourse/Memes/0x02_slide_13_image.png" alt="" style="width: 300px; object-fit: fill">



</div>


</div>

<small>







</small>

<style>
.horizontal_dotted_line{
  border-bottom: 2px dotted #62ff62;
}
} 
</style>

<div class="horizontal_dotted_line" style="position: absolute; left: 3%; top: 94%; height: 0%; width: 94%; display: flex; flex-direction: column; align-items: center; justify-content: center" >

</div>

<div class="" style="padding: 0 30px; box-sizing: border-box; position: absolute; left: 0%; top: 64%; height: 30%; width: 100%; display: flex; flex-direction: column; align-items: flex-start; justify-content: flex-end" align="left">


</div>

<div class="" style="position: absolute; left: 0%; top: 94%; height: 6%; width: 100%; display: flex; flex-direction: column; align-items: center; justify-content: center" >

###### ¬© 2024 Ch0nky LTD<!-- .element: style="font-weight: 300" -->
</div>
</div>
</div></script></section><section  data-markdown><script type="text/template"><!-- .slide: class="drop" -->
<div class="" style="position: absolute; left: 0px; top: 0px; height: 540px; width: 960px; min-height: 540px; display: flex; flex-direction: column; align-items: center; justify-content: center" absolute="true">

<style> 
font-family: Consolas,monaco,monospace !important; 
</style>

<div class="" style="background: linear-gradient(#0a0b0a, #1d231d); position: absolute; left: 0%; top: 0%; height: 100%; width: 100%; display: flex; flex-direction: column; align-items: center; justify-content: center" >

<div class="has-light-background" style="background-color: #62ff62; padding: 0 20px; box-sizing: border-box; position: absolute; left: 0%; top: 0%; height: 10%; width: 100%; display: flex; flex-direction: column; align-items: flex-start; justify-content: space-evenly" align="left">

 <div class="block">

#### Compatibility

</div>


</div>
<div class="" style="padding: 5px 15px; box-sizing: border-box; position: absolute; left: 3%; top: 13%; height: 66%; width: 90%; display: flex; flex-direction: column; align-items: flex-start; justify-content: space-evenly" align="left">




<!-- .element: style="font-size: 24px" -->
- Backwards compatibility and extending of existing technology
- This is partially why the Windows API is so stable 
- You do not get this kind of stability with Linux
- NTAPI vs Windows API

</div>

<style>
.horizontal_dotted_line{
  border-bottom: 2px dotted #62ff62;
}
} 
</style>

<div class="horizontal_dotted_line" style="position: absolute; left: 3%; top: 94%; height: 0%; width: 94%; display: flex; flex-direction: column; align-items: center; justify-content: center" >

</div>

<div class="" style="padding: 0 30px; box-sizing: border-box; position: absolute; left: 0%; top: 64%; height: 30%; width: 100%; display: flex; flex-direction: column; align-items: flex-start; justify-content: flex-end" align="left">


</div>

<div class="" style="position: absolute; left: 0%; top: 94%; height: 6%; width: 100%; display: flex; flex-direction: column; align-items: center; justify-content: center" >


###### ¬© 2024 Ch0nky LTD<!-- .element: style="font-weight: 300, color" -->
</div>
</div>
</div></script></section><section  data-markdown><script type="text/template"><!-- .slide: class="drop" -->
<div class="" style="position: absolute; left: 0px; top: 0px; height: 540px; width: 960px; min-height: 540px; display: flex; flex-direction: column; align-items: center; justify-content: center" absolute="true">

<style> 
font-family: Consolas,monaco,monospace !important; 
</style>

<div class="" style="background: linear-gradient(#0a0b0a, #1d231d); position: absolute; left: 0%; top: 0%; height: 100%; width: 100%; display: flex; flex-direction: column; align-items: center; justify-content: center" >

<div class="has-light-background" style="background-color: #62ff62; padding: 0 20px; box-sizing: border-box; position: absolute; left: 0%; top: 0%; height: 10%; width: 100%; display: flex; flex-direction: column; align-items: flex-start; justify-content: space-evenly" align="left">

 <div class="block">

#### Security

</div>


</div>
<div class="" style="padding: 5px 15px; box-sizing: border-box; position: absolute; left: 3%; top: 13%; height: 66%; width: 90%; display: flex; flex-direction: column; align-items: flex-start; justify-content: space-evenly" align="left">




<!-- .element: style="font-size: 24px" -->
- Kernel/User separation 
- User/User separation
- Process (and associated resources) isolation 


</div>

<style>
.horizontal_dotted_line{
  border-bottom: 2px dotted #62ff62;
}
} 
</style>

<div class="horizontal_dotted_line" style="position: absolute; left: 3%; top: 94%; height: 0%; width: 94%; display: flex; flex-direction: column; align-items: center; justify-content: center" >

</div>

<div class="" style="padding: 0 30px; box-sizing: border-box; position: absolute; left: 0%; top: 64%; height: 30%; width: 100%; display: flex; flex-direction: column; align-items: flex-start; justify-content: flex-end" align="left">


</div>

<div class="" style="position: absolute; left: 0%; top: 94%; height: 6%; width: 100%; display: flex; flex-direction: column; align-items: center; justify-content: center" >


###### ¬© 2024 Ch0nky LTD<!-- .element: style="font-weight: 300, color" -->
</div>
</div>
</div></script></section><section  data-markdown><script type="text/template"><!-- .slide: class="drop" -->
<div class="" style="position: absolute; left: 0px; top: 0px; height: 540px; width: 960px; min-height: 540px; display: flex; flex-direction: column; align-items: center; justify-content: center" absolute="true">

<style> 
font-family: Consolas,monaco,monospace !important; 
</style>

<div class="" style="background: linear-gradient(#0a0b0a, #1d231d); position: absolute; left: 0%; top: 0%; height: 100%; width: 100%; display: flex; flex-direction: column; align-items: center; justify-content: center" >

<div class="has-light-background" style="background-color: #62ff62; padding: 0 20px; box-sizing: border-box; position: absolute; left: 0%; top: 0%; height: 10%; width: 100%; display: flex; flex-direction: column; align-items: flex-start; justify-content: space-evenly" align="left">

 <div class="block">

#### Windows Kernel

</div>


</div>
<div class="" style="padding: 5px 15px; box-sizing: border-box; position: absolute; left: 3%; top: 13%; height: 66%; width: 90%; display: flex; flex-direction: column; align-items: flex-start; justify-content: space-evenly" align="left">




<!-- .element: style="font-size: 24px" -->
- Windows is an Object based kernel
- Resources are called objects, and can only be directly accessed by the kernel
- To indirectly interact with an object, a 
handle
 is used

</div>

<style>
.horizontal_dotted_line{
  border-bottom: 2px dotted #62ff62;
}
} 
</style>

<div class="horizontal_dotted_line" style="position: absolute; left: 3%; top: 94%; height: 0%; width: 94%; display: flex; flex-direction: column; align-items: center; justify-content: center" >

</div>

<div class="" style="padding: 0 30px; box-sizing: border-box; position: absolute; left: 0%; top: 64%; height: 30%; width: 100%; display: flex; flex-direction: column; align-items: flex-start; justify-content: flex-end" align="left">


</div>

<div class="" style="position: absolute; left: 0%; top: 94%; height: 6%; width: 100%; display: flex; flex-direction: column; align-items: center; justify-content: center" >


###### ¬© 2024 Ch0nky LTD<!-- .element: style="font-weight: 300, color" -->
</div>
</div>
</div></script></section><section  data-markdown><script type="text/template"><!-- .slide: class="drop" -->
<div class="" style="position: absolute; left: 0px; top: 0px; height: 540px; width: 960px; min-height: 540px; display: flex; flex-direction: column; align-items: center; justify-content: center" absolute="true">

<style> 
font-family: Consolas,monaco,monospace !important; 
</style>

<div class="" style="background: linear-gradient(#0a0b0a, #1d231d); position: absolute; left: 0%; top: 0%; height: 100%; width: 100%; display: flex; flex-direction: column; align-items: center; justify-content: center" >

<div class="has-light-background" style="background-color: #62ff62; padding: 0 20px; box-sizing: border-box; position: absolute; left: 0%; top: 0%; height: 10%; width: 100%; display: flex; flex-direction: column; align-items: flex-start; justify-content: space-evenly" align="left">

 <div class="block">

#### Kernel Objects

</div>


</div>
<div class="" style="padding: 5px 15px; box-sizing: border-box; position: absolute; left: 3%; top: 13%; height: 66%; width: 90%; display: flex; flex-direction: column; align-items: flex-start; justify-content: space-evenly" align="left">




<!-- .element: style="font-size: 24px" -->
- Kernel object (KOs): a single run-time instance of a statically defined object type 
- Object types are system-defined data types. 
- Each object type has its own attributes and functions to interact with it
- For example, an object of type 
process 
is an instance of a process object.
- file 
object is an instance of a file. Note, 
file!= a thing on disk


</div>

<style>
.horizontal_dotted_line{
  border-bottom: 2px dotted #62ff62;
}
} 
</style>

<div class="horizontal_dotted_line" style="position: absolute; left: 3%; top: 94%; height: 0%; width: 94%; display: flex; flex-direction: column; align-items: center; justify-content: center" >

</div>

<div class="" style="padding: 0 30px; box-sizing: border-box; position: absolute; left: 0%; top: 64%; height: 30%; width: 100%; display: flex; flex-direction: column; align-items: flex-start; justify-content: flex-end" align="left">


</div>

<div class="" style="position: absolute; left: 0%; top: 94%; height: 6%; width: 100%; display: flex; flex-direction: column; align-items: center; justify-content: center" >


###### ¬© 2024 Ch0nky LTD<!-- .element: style="font-weight: 300, color" -->
</div>
</div>
</div></script></section><section  data-markdown><script type="text/template"><!-- .slide: class="drop" -->
<div class="" style="position: absolute; left: 0px; top: 0px; height: 540px; width: 960px; min-height: 540px; display: flex; flex-direction: column; align-items: center; justify-content: center" absolute="true">

<style> 
font-family: Consolas,monaco,monospace !important; 
</style>

<div class="" style="background: linear-gradient(#0a0b0a, #1d231d); position: absolute; left: 0%; top: 0%; height: 100%; width: 100%; display: flex; flex-direction: column; align-items: center; justify-content: center" >

<div class="has-light-background" style="background-color: #62ff62; padding: 0 20px; box-sizing: border-box; position: absolute; left: 0%; top: 0%; height: 10%; width: 100%; display: flex; flex-direction: column; align-items: flex-start; justify-content: space-evenly" align="left">

 <div class="block">

#### Objects and Handles 

</div>


</div>
<div class="" style="padding: 5px 15px; box-sizing: border-box; position: absolute; left: 3%; top: 13%; height: 66%; width: 90%; display: flex; flex-direction: column; align-items: flex-start; justify-content: space-evenly" align="left">




<!-- .element: style="font-size: 24px" -->
- A handle is an abstract reference to an object. This could be an actual pointer to the object, or a reference to a per-process GUID that references an object
- This allows us to abstract away direct management of objects in memory, and instead work with with references. 
This is a security control. If something goes wrong in kernel space, you get a BSOD. 
- APIs are used to interact with system resources, share resources among processes, and protect resources from unauthorized access.


</div>

<style>
.horizontal_dotted_line{
  border-bottom: 2px dotted #62ff62;
}
} 
</style>

<div class="horizontal_dotted_line" style="position: absolute; left: 3%; top: 94%; height: 0%; width: 94%; display: flex; flex-direction: column; align-items: center; justify-content: center" >

</div>

<div class="" style="padding: 0 30px; box-sizing: border-box; position: absolute; left: 0%; top: 64%; height: 30%; width: 100%; display: flex; flex-direction: column; align-items: flex-start; justify-content: flex-end" align="left">


</div>

<div class="" style="position: absolute; left: 0%; top: 94%; height: 6%; width: 100%; display: flex; flex-direction: column; align-items: center; justify-content: center" >


###### ¬© 2024 Ch0nky LTD<!-- .element: style="font-weight: 300, color" -->
</div>
</div>
</div></script></section><section  data-markdown><script type="text/template"><!-- .slide: class="drop" -->
<div class="" style="position: absolute; left: 0px; top: 0px; height: 540px; width: 960px; min-height: 540px; display: flex; flex-direction: column; align-items: center; justify-content: center" absolute="true">

<style> 
font-family: Consolas,monaco,monospace !important; 
</style>

<div class="" style="background: linear-gradient(#0a0b0a, #1d231d); position: absolute; left: 0%; top: 0%; height: 100%; width: 100%; display: flex; flex-direction: column; align-items: center; justify-content: center" >


<div class="" style="position: absolute; left: 5%; top: 13%; height: 66%; width: 90%; display: flex; flex-direction: column; align-items: center; justify-content: center" align="center">

## <span style="color:#62ff62">
 ## Processes</span>
</div>

<style>
.horizontal_dotted_line{
  border-bottom: 2px dotted #62ff62;
}
} 
</style>

<div class="horizontal_dotted_line" style="position: absolute; left: 3%; top: 94%; height: 0%; width: 94%; display: flex; flex-direction: column; align-items: center; justify-content: center" >

</div>

<div class="" style="padding: 0 30px; box-sizing: border-box; position: absolute; left: 0%; top: 64%; height: 30%; width: 100%; display: flex; flex-direction: column; align-items: flex-start; justify-content: flex-end" align="left">


</div>

<div class="" style="position: absolute; left: 0%; top: 94%; height: 6%; width: 100%; display: flex; flex-direction: column; align-items: center; justify-content: center" >

###### ¬© 2024 Ch0nky LTD<!-- .element: style="font-weight: 300" -->
</div>
</div>
</div></script></section><section  data-markdown><script type="text/template"><!-- .slide: class="drop" -->
<div class="" style="position: absolute; left: 0px; top: 0px; height: 540px; width: 960px; min-height: 540px; display: flex; flex-direction: column; align-items: center; justify-content: center" absolute="true">

<style> 
font-family: Consolas,monaco,monospace !important; 
</style>

<div class="" style="background: linear-gradient(#0a0b0a, #1d231d); position: absolute; left: 0%; top: 0%; height: 100%; width: 100%; display: flex; flex-direction: column; align-items: center; justify-content: center" >

<div class="has-light-background" style="background-color: #62ff62; padding: 0 20px; box-sizing: border-box; position: absolute; left: 0%; top: 0%; height: 10%; width: 100%; display: flex; flex-direction: column; align-items: flex-start; justify-content: space-evenly" align="left">

 <div class="block">

#### Processes

</div>


</div>
<div class="" style="padding: 5px 15px; box-sizing: border-box; position: absolute; left: 3%; top: 13%; height: 66%; width: 90%; display: flex; flex-direction: column; align-items: flex-start; justify-content: space-evenly" align="left">




<!-- .element: style="font-size: 24px" -->
- Nothing in userland is executed outside of the context of a process.
- You don‚Äôt ‚Äúrun a processes‚Äù
- You run threads 
- Processes are containers around resources required to run a program
- There is no such thing (to my knowledge) as code running outside of a process in userland

</div>

<style>
.horizontal_dotted_line{
  border-bottom: 2px dotted #62ff62;
}
} 
</style>

<div class="horizontal_dotted_line" style="position: absolute; left: 3%; top: 94%; height: 0%; width: 94%; display: flex; flex-direction: column; align-items: center; justify-content: center" >

</div>

<div class="" style="padding: 0 30px; box-sizing: border-box; position: absolute; left: 0%; top: 64%; height: 30%; width: 100%; display: flex; flex-direction: column; align-items: flex-start; justify-content: flex-end" align="left">


</div>

<div class="" style="position: absolute; left: 0%; top: 94%; height: 6%; width: 100%; display: flex; flex-direction: column; align-items: center; justify-content: center" >


###### ¬© 2024 Ch0nky LTD<!-- .element: style="font-weight: 300, color" -->
</div>
</div>
</div></script></section><section  data-markdown><script type="text/template"><!-- .slide: class="drop" -->
<div class="" style="position: absolute; left: 0px; top: 0px; height: 540px; width: 960px; min-height: 540px; display: flex; flex-direction: column; align-items: center; justify-content: center" absolute="true">

<style> 
font-family: Consolas,monaco,monospace !important; 
</style>

<div class="" style="background: linear-gradient(#0a0b0a, #1d231d); position: absolute; left: 0%; top: 0%; height: 100%; width: 100%; display: flex; flex-direction: column; align-items: center; justify-content: center" >

<div class="has-light-background" style="background-color: #62ff62; padding: 0 20px; box-sizing: border-box; position: absolute; left: 0%; top: 0%; height: 10%; width: 100%; display: flex; flex-direction: column; align-items: flex-start; justify-content: space-evenly" align="left">

 <div class="block">

#### Threads 

</div>


</div>
<div class="" style="padding: 5px 15px; box-sizing: border-box; position: absolute; left: 3%; top: 13%; height: 66%; width: 90%; display: flex; flex-direction: column; align-items: flex-start; justify-content: space-evenly" align="left">




<!-- .element: style="font-size: 24px" -->
- Unit of execution contained within a process.
- Actual entity that executes code 
- More on threads in later. For now, we will only deal with processes that have a single executing thread.
- "Virtualizing the CPU"


</div>

<style>
.horizontal_dotted_line{
  border-bottom: 2px dotted #62ff62;
}
} 
</style>

<div class="horizontal_dotted_line" style="position: absolute; left: 3%; top: 94%; height: 0%; width: 94%; display: flex; flex-direction: column; align-items: center; justify-content: center" >

</div>

<div class="" style="padding: 0 30px; box-sizing: border-box; position: absolute; left: 0%; top: 64%; height: 30%; width: 100%; display: flex; flex-direction: column; align-items: flex-start; justify-content: flex-end" align="left">


</div>

<div class="" style="position: absolute; left: 0%; top: 94%; height: 6%; width: 100%; display: flex; flex-direction: column; align-items: center; justify-content: center" >


###### ¬© 2024 Ch0nky LTD<!-- .element: style="font-weight: 300, color" -->
</div>
</div>
</div></script></section><section  data-markdown><script type="text/template"><!-- .slide: class="drop" -->
<div class="" style="position: absolute; left: 0px; top: 0px; height: 540px; width: 960px; min-height: 540px; display: flex; flex-direction: column; align-items: center; justify-content: center" absolute="true">

<style> 
font-family: Consolas,monaco,monospace !important; 
</style>

<div class="" style="background: linear-gradient(#0a0b0a, #1d231d); position: absolute; left: 0%; top: 0%; height: 100%; width: 100%; display: flex; flex-direction: column; align-items: center; justify-content: center" >

<div class="has-light-background" style="background-color: #62ff62; padding: 0 20px; box-sizing: border-box; position: absolute; left: 0%; top: 0%; height: 10%; width: 100%; display: flex; flex-direction: column; align-items: flex-start; justify-content: space-evenly" align="left">

 <div class="block">

#### Process Resources 
</div>


</div>

<div class="" style="position: absolute; left: 3%; top: 13%; height: 87%; width: 45%; display: flex; flex-direction: column; align-items: flex-start; justify-content: flex-start" align="left">

<div class="block">

<!-- .element: style="font-size: 24px" -->
- Uniquely identified by a Process ID
- Contains a security context in the form of a Process Access Token
- Maintains a table of handles to objects
- Has a private virtual address space 
- \>=1 Thread (possibly with its own token)

</div>


</div>

<div class="" style="position: absolute; left: 50%; top: 13%; height: 75%; width: 45%; display: flex; flex-direction: column; align-items: flex-start; justify-content: flex-start" align="left">

<div class="block">

<img src="MalwareCourse/Memes/0x02_slide_46_image.png" alt="" style="width: 400px; object-fit: fill">



</div>


</div>

<small>









</small>

<style>
.horizontal_dotted_line{
  border-bottom: 2px dotted #62ff62;
}
} 
</style>

<div class="horizontal_dotted_line" style="position: absolute; left: 3%; top: 94%; height: 0%; width: 94%; display: flex; flex-direction: column; align-items: center; justify-content: center" >

</div>

<div class="" style="padding: 0 30px; box-sizing: border-box; position: absolute; left: 0%; top: 64%; height: 30%; width: 100%; display: flex; flex-direction: column; align-items: flex-start; justify-content: flex-end" align="left">


</div>

<div class="" style="position: absolute; left: 0%; top: 94%; height: 6%; width: 100%; display: flex; flex-direction: column; align-items: center; justify-content: center" >

###### ¬© 2024 Ch0nky LTD<!-- .element: style="font-weight: 300" -->
</div>
</div>
</div></script></section><section  data-markdown><script type="text/template"><!-- .slide: class="drop" -->
<div class="" style="position: absolute; left: 0px; top: 0px; height: 540px; width: 960px; min-height: 540px; display: flex; flex-direction: column; align-items: center; justify-content: center" absolute="true">

<style> 
font-family: Consolas,monaco,monospace !important; 
</style>

<div class="" style="background: linear-gradient(#0a0b0a, #1d231d); position: absolute; left: 0%; top: 0%; height: 100%; width: 100%; display: flex; flex-direction: column; align-items: center; justify-content: center" >

<div class="has-light-background" style="background-color: #62ff62; padding: 0 20px; box-sizing: border-box; position: absolute; left: 0%; top: 0%; height: 10%; width: 100%; display: flex; flex-direction: column; align-items: flex-start; justify-content: space-evenly" align="left">

 <div class="block">

#### Random Access Memory
</div>


</div>
<div class="" style="padding: 5px 15px; box-sizing: border-box; position: absolute; left: 3%; top: 13%; height: 66%; width: 90%; display: flex; flex-direction: column; align-items: flex-start; justify-content: space-evenly" align="left">



<!-- .element: style="font-size: 24px" -->
- Physical Memory: a linear byte-array of byte addressable data
	- I.e., a giant list of binary data where we can 
	- Q: Ignoring extensions, if we have byte addressable arrays and we can use 64 bit integers (8 bytes) to address the array, what is the maximum number of bytes we can support? 


</div>

<style>
.horizontal_dotted_line{
  border-bottom: 2px dotted #62ff62;
}
} 
</style>

<div class="horizontal_dotted_line" style="position: absolute; left: 3%; top: 94%; height: 0%; width: 94%; display: flex; flex-direction: column; align-items: center; justify-content: center" >

</div>

<div class="" style="padding: 0 30px; box-sizing: border-box; position: absolute; left: 0%; top: 64%; height: 30%; width: 100%; display: flex; flex-direction: column; align-items: flex-start; justify-content: flex-end" align="left">


</div>

<div class="" style="position: absolute; left: 0%; top: 94%; height: 6%; width: 100%; display: flex; flex-direction: column; align-items: center; justify-content: center" >


###### ¬© 2024 Ch0nky LTD<!-- .element: style="font-weight: 300, color" -->
</div>
</div>
</div></script></section><section  data-markdown><script type="text/template"><!-- .slide: class="drop" -->
<div class="" style="position: absolute; left: 0px; top: 0px; height: 540px; width: 960px; min-height: 540px; display: flex; flex-direction: column; align-items: center; justify-content: center" absolute="true">

<style> 
font-family: Consolas,monaco,monospace !important; 
</style>

<div class="" style="background: linear-gradient(#0a0b0a, #1d231d); position: absolute; left: 0%; top: 0%; height: 100%; width: 100%; display: flex; flex-direction: column; align-items: center; justify-content: center" >

<div class="has-light-background" style="background-color: #62ff62; padding: 0 20px; box-sizing: border-box; position: absolute; left: 0%; top: 0%; height: 10%; width: 100%; display: flex; flex-direction: column; align-items: flex-start; justify-content: space-evenly" align="left">

 <div class="block">

#### Virtual Memory

</div>


</div>
<div class="" style="padding: 5px 15px; box-sizing: border-box; position: absolute; left: 3%; top: 13%; height: 66%; width: 90%; display: flex; flex-direction: column; align-items: flex-start; justify-content: space-evenly" align="left">




<!-- .element: style="font-size: 24px" -->
- An abstraction layer around physical memory
- Each process gets its own private virtual memory 
- `$2^{32}$` bytes worth on 32 bit (possibly more with some extensions) 
- `$2^{64}$` bytes worth on 64 bit
- The kernel lies about how much space there really is
- Think of a virtual address space as a giant, contiguous array of bytes


</div>

<style>
.horizontal_dotted_line{
  border-bottom: 2px dotted #62ff62;
}
} 
</style>

<div class="horizontal_dotted_line" style="position: absolute; left: 3%; top: 94%; height: 0%; width: 94%; display: flex; flex-direction: column; align-items: center; justify-content: center" >

</div>

<div class="" style="padding: 0 30px; box-sizing: border-box; position: absolute; left: 0%; top: 64%; height: 30%; width: 100%; display: flex; flex-direction: column; align-items: flex-start; justify-content: flex-end" align="left">


</div>

<div class="" style="position: absolute; left: 0%; top: 94%; height: 6%; width: 100%; display: flex; flex-direction: column; align-items: center; justify-content: center" >


###### ¬© 2024 Ch0nky LTD<!-- .element: style="font-weight: 300, color" -->
</div>
</div>
</div></script></section><section  data-markdown><script type="text/template"><!-- .slide: class="drop" -->
<div class="" style="position: absolute; left: 0px; top: 0px; height: 540px; width: 960px; min-height: 540px; display: flex; flex-direction: column; align-items: center; justify-content: center" absolute="true">

<style> 
font-family: Consolas,monaco,monospace !important; 
</style>

<div class="" style="background: linear-gradient(#0a0b0a, #1d231d); position: absolute; left: 0%; top: 0%; height: 100%; width: 100%; display: flex; flex-direction: column; align-items: center; justify-content: center" >

<div class="has-light-background" style="background-color: #62ff62; padding: 0 20px; box-sizing: border-box; position: absolute; left: 0%; top: 0%; height: 10%; width: 100%; display: flex; flex-direction: column; align-items: flex-start; justify-content: space-evenly" align="left">

 <div class="block">

#### Process Virtual Memory
</div>


</div>

<div class="" style="position: absolute; left: 3%; top: 13%; height: 87%; width: 45%; display: flex; flex-direction: column; align-items: flex-start; justify-content: flex-start" align="left">

<div class="block">

<!-- .element: style="font-size: 24px" -->
- Windows  implements a linear Virtual Address space
- Provides a logical interface for a process to interact with indirectly with 
physical memory as if it were one giant array of bytes

</div>


</div>

<div class="" style="position: absolute; left: 50%; top: 13%; height: 75%; width: 45%; display: flex; flex-direction: column; align-items: flex-start; justify-content: flex-start" align="left">

<div class="block">

<img src="MalwareCourse/Memes/0x02_slide_48_image.png" alt="" style="width: 400px; object-fit: fill">



</div>


</div>

<small>







</small>

<style>
.horizontal_dotted_line{
  border-bottom: 2px dotted #62ff62;
}
} 
</style>

<div class="horizontal_dotted_line" style="position: absolute; left: 3%; top: 94%; height: 0%; width: 94%; display: flex; flex-direction: column; align-items: center; justify-content: center" >

</div>

<div class="" style="padding: 0 30px; box-sizing: border-box; position: absolute; left: 0%; top: 64%; height: 30%; width: 100%; display: flex; flex-direction: column; align-items: flex-start; justify-content: flex-end" align="left">


</div>

<div class="" style="position: absolute; left: 0%; top: 94%; height: 6%; width: 100%; display: flex; flex-direction: column; align-items: center; justify-content: center" >

###### ¬© 2024 Ch0nky LTD<!-- .element: style="font-weight: 300" -->
</div>
</div>
</div></script></section><section  data-markdown><script type="text/template"><!-- .slide: class="drop" -->
<div class="" style="position: absolute; left: 0px; top: 0px; height: 540px; width: 960px; min-height: 540px; display: flex; flex-direction: column; align-items: center; justify-content: center" absolute="true">

<style> 
font-family: Consolas,monaco,monospace !important; 
</style>

<div class="" style="background: linear-gradient(#0a0b0a, #1d231d); position: absolute; left: 0%; top: 0%; height: 100%; width: 100%; display: flex; flex-direction: column; align-items: center; justify-content: center" >

<div class="has-light-background" style="background-color: #62ff62; padding: 0 20px; box-sizing: border-box; position: absolute; left: 0%; top: 0%; height: 10%; width: 100%; display: flex; flex-direction: column; align-items: flex-start; justify-content: space-evenly" align="left">

 <div class="block">

#### Virtual Memory Concepts

</div>


</div>
<div class="" style="padding: 5px 15px; box-sizing: border-box; position: absolute; left: 3%; top: 13%; height: 66%; width: 90%; display: flex; flex-direction: column; align-items: flex-start; justify-content: space-evenly" align="left">



- Page Tables
- Page Table entries 
- Virtual Address Descriptors
- Byte Addressable
- Hardware assistance (walking the page table)
- 32bit/64bit
- Memory Protections
</div>

<style>
.horizontal_dotted_line{
  border-bottom: 2px dotted #62ff62;
}
} 
</style>

<div class="horizontal_dotted_line" style="position: absolute; left: 3%; top: 94%; height: 0%; width: 94%; display: flex; flex-direction: column; align-items: center; justify-content: center" >

</div>

<div class="" style="padding: 0 30px; box-sizing: border-box; position: absolute; left: 0%; top: 64%; height: 30%; width: 100%; display: flex; flex-direction: column; align-items: flex-start; justify-content: flex-end" align="left">


</div>

<div class="" style="position: absolute; left: 0%; top: 94%; height: 6%; width: 100%; display: flex; flex-direction: column; align-items: center; justify-content: center" >


###### ¬© 2024 Ch0nky LTD<!-- .element: style="font-weight: 300, color" -->
</div>
</div>
</div></script></section><section  data-markdown><script type="text/template"><!-- .slide: class="drop" -->
<div class="" style="position: absolute; left: 0px; top: 0px; height: 540px; width: 960px; min-height: 540px; display: flex; flex-direction: column; align-items: center; justify-content: center" absolute="true">

<style> 
font-family: Consolas,monaco,monospace !important; 
</style>

<div class="" style="background: linear-gradient(#0a0b0a, #1d231d); position: absolute; left: 0%; top: 0%; height: 100%; width: 100%; display: flex; flex-direction: column; align-items: center; justify-content: center" >

<div class="has-light-background" style="background-color: #62ff62; padding: 0 20px; box-sizing: border-box; position: absolute; left: 0%; top: 0%; height: 10%; width: 100%; display: flex; flex-direction: column; align-items: flex-start; justify-content: space-evenly" align="left">

 <div class="block">

#### Memory Layout	
</div>


</div>

<div class="" style="position: absolute; left: 3%; top: 13%; height: 87%; width: 45%; display: flex; flex-direction: column; align-items: flex-start; justify-content: flex-start" align="left">

<div class="block">

<!-- .element: style="font-size: 20px" -->
- Each processes gets its own Virtual Address Space
- The Windows OS divides Virtual Address space into  two portions: kernel and Userland*
- Memory here grows ‚Äúdownward‚Äù from higher address spaces to lower address spaces
- On x64, the upper half is reserved for kernel space and the bottom half is reserved for processes

</div>


</div>

<div class="" style="position: absolute; left: 50%; top: 13%; height: 75%; width: 45%; display: flex; flex-direction: column; align-items: flex-start; justify-content: flex-start" align="left">

<div class="block">

<img src="MalwareCourse/Memes/0x02_slide_49_image.png" alt="" style="width: 400px; object-fit: fill">



</div>


</div>

<small>







</small>

<style>
.horizontal_dotted_line{
  border-bottom: 2px dotted #62ff62;
}
} 
</style>

<div class="horizontal_dotted_line" style="position: absolute; left: 3%; top: 94%; height: 0%; width: 94%; display: flex; flex-direction: column; align-items: center; justify-content: center" >

</div>

<div class="" style="padding: 0 30px; box-sizing: border-box; position: absolute; left: 0%; top: 64%; height: 30%; width: 100%; display: flex; flex-direction: column; align-items: flex-start; justify-content: flex-end" align="left">


</div>

<div class="" style="position: absolute; left: 0%; top: 94%; height: 6%; width: 100%; display: flex; flex-direction: column; align-items: center; justify-content: center" >

###### ¬© 2024 Ch0nky LTD<!-- .element: style="font-weight: 300" -->
</div>
</div>
</div></script></section><section  data-markdown><script type="text/template"><!-- .slide: class="drop" -->
<div class="" style="position: absolute; left: 0px; top: 0px; height: 540px; width: 960px; min-height: 540px; display: flex; flex-direction: column; align-items: center; justify-content: center" absolute="true">

<style> 
font-family: Consolas,monaco,monospace !important; 
</style>

<div class="" style="background: linear-gradient(#0a0b0a, #1d231d); position: absolute; left: 0%; top: 0%; height: 100%; width: 100%; display: flex; flex-direction: column; align-items: center; justify-content: center" >

<div class="has-light-background" style="background-color: #62ff62; padding: 0 20px; box-sizing: border-box; position: absolute; left: 0%; top: 0%; height: 10%; width: 100%; display: flex; flex-direction: column; align-items: flex-start; justify-content: space-evenly" align="left">

 <div class="block">

#### Memory

</div>


</div>
<div class="" style="padding: 5px 15px; box-sizing: border-box; position: absolute; left: 3%; top: 13%; height: 66%; width: 90%; display: flex; flex-direction: column; align-items: flex-start; justify-content: space-evenly" align="left">




<!-- .element: style="font-size: 24px" -->
- Virtual: A Block of raw memory 
- Stack: technically can be managed by the programmer but is usually managed by the processes and the compiler
- Heap Memory: managed by the programer with a special data structure called a Heap 
	- Basically a priority queue


</div>

<style>
.horizontal_dotted_line{
  border-bottom: 2px dotted #62ff62;
}
} 
</style>

<div class="horizontal_dotted_line" style="position: absolute; left: 3%; top: 94%; height: 0%; width: 94%; display: flex; flex-direction: column; align-items: center; justify-content: center" >

</div>

<div class="" style="padding: 0 30px; box-sizing: border-box; position: absolute; left: 0%; top: 64%; height: 30%; width: 100%; display: flex; flex-direction: column; align-items: flex-start; justify-content: flex-end" align="left">


</div>

<div class="" style="position: absolute; left: 0%; top: 94%; height: 6%; width: 100%; display: flex; flex-direction: column; align-items: center; justify-content: center" >


###### ¬© 2024 Ch0nky LTD<!-- .element: style="font-weight: 300, color" -->
</div>
</div>
</div></script></section><section  data-markdown><script type="text/template"><!-- .slide: class="drop" -->
<div class="" style="position: absolute; left: 0px; top: 0px; height: 540px; width: 960px; min-height: 540px; display: flex; flex-direction: column; align-items: center; justify-content: center" absolute="true">

<style> 
font-family: Consolas,monaco,monospace !important; 
</style>

<div class="" style="background: linear-gradient(#0a0b0a, #1d231d); position: absolute; left: 0%; top: 0%; height: 100%; width: 100%; display: flex; flex-direction: column; align-items: center; justify-content: center" >

<div class="has-light-background" style="background-color: #62ff62; padding: 0 20px; box-sizing: border-box; position: absolute; left: 0%; top: 0%; height: 10%; width: 100%; display: flex; flex-direction: column; align-items: flex-start; justify-content: space-evenly" align="left">

 <div class="block">

#### Disk	
</div>


</div>

<div class="" style="position: absolute; left: 3%; top: 13%; height: 87%; width: 45%; display: flex; flex-direction: column; align-items: flex-start; justify-content: flex-start" align="left">

<% left %>
</div>

<div class="" style="position: absolute; left: 50%; top: 13%; height: 75%; width: 45%; display: flex; flex-direction: column; align-items: flex-start; justify-content: flex-start" align="left">

<% right %>
</div>

<small>


<!-- .element: style="font-size: 24px" -->
- considerably slower storage
- Cheaper than RAM
- Similar to memory, it is a block of linear storage. 
- Usually interacting with the disk is implemented via a driver that helps implement a filesystem
- Example: NTFS, EXT4 FAT32
- Disk: Flash, hard disk/CD, SSD, magnetic tape...etc

</small>

<style>
.horizontal_dotted_line{
  border-bottom: 2px dotted #62ff62;
}
} 
</style>

<div class="horizontal_dotted_line" style="position: absolute; left: 3%; top: 94%; height: 0%; width: 94%; display: flex; flex-direction: column; align-items: center; justify-content: center" >

</div>

<div class="" style="padding: 0 30px; box-sizing: border-box; position: absolute; left: 0%; top: 64%; height: 30%; width: 100%; display: flex; flex-direction: column; align-items: flex-start; justify-content: flex-end" align="left">


</div>

<div class="" style="position: absolute; left: 0%; top: 94%; height: 6%; width: 100%; display: flex; flex-direction: column; align-items: center; justify-content: center" >

###### ¬© 2024 Ch0nky LTD<!-- .element: style="font-weight: 300" -->
</div>
</div>
</div></script></section><section  data-markdown><script type="text/template"><!-- .slide: class="drop" -->
<div class="" style="position: absolute; left: 0px; top: 0px; height: 540px; width: 960px; min-height: 540px; display: flex; flex-direction: column; align-items: center; justify-content: center" absolute="true">

<style> 
font-family: Consolas,monaco,monospace !important; 
</style>

<div class="" style="background: linear-gradient(#0a0b0a, #1d231d); position: absolute; left: 0%; top: 0%; height: 100%; width: 100%; display: flex; flex-direction: column; align-items: center; justify-content: center" >

<div class="has-light-background" style="background-color: #62ff62; padding: 0 20px; box-sizing: border-box; position: absolute; left: 0%; top: 0%; height: 10%; width: 100%; display: flex; flex-direction: column; align-items: flex-start; justify-content: space-evenly" align="left">

 <div class="block">

#### Windows System Architecture

</div>


</div>
<div class="" style="padding: 5px 15px; box-sizing: border-box; position: absolute; left: 3%; top: 13%; height: 66%; width: 90%; display: flex; flex-direction: column; align-items: flex-start; justify-content: space-evenly" align="left">




<!-- .element: style="font-size: 24px" -->
- User Processes
- Subsystem DLLs
- NTDLL.dll
- Service Processes
- Executive
- Kernel 
- Device Drivers
- Win32k.sys
- (sometimes) Hyper-V


</div>

<style>
.horizontal_dotted_line{
  border-bottom: 2px dotted #62ff62;
}
} 
</style>

<div class="horizontal_dotted_line" style="position: absolute; left: 3%; top: 94%; height: 0%; width: 94%; display: flex; flex-direction: column; align-items: center; justify-content: center" >

</div>

<div class="" style="padding: 0 30px; box-sizing: border-box; position: absolute; left: 0%; top: 64%; height: 30%; width: 100%; display: flex; flex-direction: column; align-items: flex-start; justify-content: flex-end" align="left">


</div>

<div class="" style="position: absolute; left: 0%; top: 94%; height: 6%; width: 100%; display: flex; flex-direction: column; align-items: center; justify-content: center" >


###### ¬© 2024 Ch0nky LTD<!-- .element: style="font-weight: 300, color" -->
</div>
</div>
</div></script></section><section  data-markdown><script type="text/template"><!-- .slide: class="drop" -->
<div class="" style="position: absolute; left: 0px; top: 0px; height: 540px; width: 960px; min-height: 540px; display: flex; flex-direction: column; align-items: center; justify-content: center" absolute="true">

<style> 
font-family: Consolas,monaco,monospace !important; 
</style>

<div class="" style="background: linear-gradient(#0a0b0a, #1d231d); position: absolute; left: 0%; top: 0%; height: 100%; width: 100%; display: flex; flex-direction: column; align-items: center; justify-content: center" >

<div class="has-light-background" style="background-color: #62ff62; padding: 0 20px; box-sizing: border-box; position: absolute; left: 0%; top: 0%; height: 10%; width: 100%; display: flex; flex-direction: column; align-items: flex-start; justify-content: space-evenly" align="left">

 <div class="block">

#### Interacting with the Windows OS

</div>


</div>
<div class="" style="padding: 5px 15px; box-sizing: border-box; position: absolute; left: 3%; top: 13%; height: 66%; width: 90%; display: flex; flex-direction: column; align-items: flex-start; justify-content: space-evenly" align="left">




<!-- .element: style="font-size: 20px" -->
- Windows API functions (win32): Documented, callable functions in the Windows API. 
	- For example, MessageBox, CreateFile, GetMessage
- Native system services (sys calls): Undocumented (officially) underlying serivices in the OS that are callable from user mdode. For example 
	- NtAllocateVirtualMemory is the internal service used for VirtualAlloc 
	- NtCreateUserProcess is the internal service used by CreateProcess
- Direct Syscalls
- Other:  (WinRT, COM,...etc)
- Kernel support functions: functions inside the Windows OS that can only be called from in kernel mode

</div>

<style>
.horizontal_dotted_line{
  border-bottom: 2px dotted #62ff62;
}
} 
</style>

<div class="horizontal_dotted_line" style="position: absolute; left: 3%; top: 94%; height: 0%; width: 94%; display: flex; flex-direction: column; align-items: center; justify-content: center" >

</div>

<div class="" style="padding: 0 30px; box-sizing: border-box; position: absolute; left: 0%; top: 64%; height: 30%; width: 100%; display: flex; flex-direction: column; align-items: flex-start; justify-content: flex-end" align="left">


</div>

<div class="" style="position: absolute; left: 0%; top: 94%; height: 6%; width: 100%; display: flex; flex-direction: column; align-items: center; justify-content: center" >


###### ¬© 2024 Ch0nky LTD<!-- .element: style="font-weight: 300, color" -->
</div>
</div>
</div></script></section><section  data-markdown><script type="text/template"><!-- .slide: class="drop" -->
<div class="" style="position: absolute; left: 0px; top: 0px; height: 540px; width: 960px; min-height: 540px; display: flex; flex-direction: column; align-items: center; justify-content: center" absolute="true">

<style> 
font-family: Consolas,monaco,monospace !important; 
</style>

<div class="" style="background: linear-gradient(#0a0b0a, #1d231d); position: absolute; left: 0%; top: 0%; height: 100%; width: 100%; display: flex; flex-direction: column; align-items: center; justify-content: center" >

<div class="has-light-background" style="background-color: #62ff62; padding: 0 20px; box-sizing: border-box; position: absolute; left: 0%; top: 0%; height: 10%; width: 100%; display: flex; flex-direction: column; align-items: flex-start; justify-content: space-evenly" align="left">

 <div class="block">

#### Interacting with Windows

</div>


</div>
<div class="" style="padding: 5px 15px; box-sizing: border-box; position: absolute; left: 3%; top: 13%; height: 66%; width: 90%; display: flex; flex-direction: column; align-items: flex-start; justify-content: space-evenly" align="left">




Most of the Windows API is implemented in a handfull of  DLLs

</div>

<style>
.horizontal_dotted_line{
  border-bottom: 2px dotted #62ff62;
}
} 
</style>

<div class="horizontal_dotted_line" style="position: absolute; left: 3%; top: 94%; height: 0%; width: 94%; display: flex; flex-direction: column; align-items: center; justify-content: center" >

</div>

<div class="" style="padding: 0 30px; box-sizing: border-box; position: absolute; left: 0%; top: 64%; height: 30%; width: 100%; display: flex; flex-direction: column; align-items: flex-start; justify-content: flex-end" align="left">


</div>

<div class="" style="position: absolute; left: 0%; top: 94%; height: 6%; width: 100%; display: flex; flex-direction: column; align-items: center; justify-content: center" >


###### ¬© 2024 Ch0nky LTD<!-- .element: style="font-weight: 300, color" -->
</div>
</div>
</div></script></section><section  data-markdown><script type="text/template"><!-- .slide: class="drop" -->
<div class="" style="position: absolute; left: 0px; top: 0px; height: 540px; width: 960px; min-height: 540px; display: flex; flex-direction: column; align-items: center; justify-content: center" absolute="true">

<style> 
font-family: Consolas,monaco,monospace !important; 
</style>

<div class="" style="background: linear-gradient(#0a0b0a, #1d231d); position: absolute; left: 0%; top: 0%; height: 100%; width: 100%; display: flex; flex-direction: column; align-items: center; justify-content: center" >

<div class="has-light-background" style="background-color: #62ff62; padding: 0 20px; box-sizing: border-box; position: absolute; left: 0%; top: 0%; height: 10%; width: 100%; display: flex; flex-direction: column; align-items: flex-start; justify-content: space-evenly" align="left">

 <div class="block">

#### Dynamically Linked Libraries: 

</div>


</div>
<div class="" style="padding: 5px 15px; box-sizing: border-box; position: absolute; left: 3%; top: 13%; height: 66%; width: 90%; display: flex; flex-direction: column; align-items: flex-start; justify-content: space-evenly" align="left">




<!-- .element: style="font-size: 24px" -->
 #### Refresh: What is a DLL?

</div>

<style>
.horizontal_dotted_line{
  border-bottom: 2px dotted #62ff62;
}
} 
</style>

<div class="horizontal_dotted_line" style="position: absolute; left: 3%; top: 94%; height: 0%; width: 94%; display: flex; flex-direction: column; align-items: center; justify-content: center" >

</div>

<div class="" style="padding: 0 30px; box-sizing: border-box; position: absolute; left: 0%; top: 64%; height: 30%; width: 100%; display: flex; flex-direction: column; align-items: flex-start; justify-content: flex-end" align="left">


</div>

<div class="" style="position: absolute; left: 0%; top: 94%; height: 6%; width: 100%; display: flex; flex-direction: column; align-items: center; justify-content: center" >


###### ¬© 2024 Ch0nky LTD<!-- .element: style="font-weight: 300, color" -->
</div>
</div>
</div></script></section><section  data-markdown><script type="text/template"><!-- .slide: class="drop" -->
<div class="" style="position: absolute; left: 0px; top: 0px; height: 540px; width: 960px; min-height: 540px; display: flex; flex-direction: column; align-items: center; justify-content: center" absolute="true">

<style> 
font-family: Consolas,monaco,monospace !important; 
</style>

<div class="" style="background: linear-gradient(#0a0b0a, #1d231d); position: absolute; left: 0%; top: 0%; height: 100%; width: 100%; display: flex; flex-direction: column; align-items: center; justify-content: center" >

<div class="has-light-background" style="background-color: #62ff62; padding: 0 20px; box-sizing: border-box; position: absolute; left: 0%; top: 0%; height: 10%; width: 100%; display: flex; flex-direction: column; align-items: flex-start; justify-content: space-evenly" align="left">

 <div class="block">

#### DLL

</div>


</div>
<div class="" style="padding: 5px 15px; box-sizing: border-box; position: absolute; left: 3%; top: 13%; height: 66%; width: 90%; display: flex; flex-direction: column; align-items: flex-start; justify-content: space-evenly" align="left">




<!-- .element: style="font-size: 24px" -->
- A PE with with DLL characteristic field set. 
- Usually it has exported functions which can be referenced by code outside of the DLL

#### Again: The Windows API is implemented in a handful of DLLs that export specific functions

</div>

<style>
.horizontal_dotted_line{
  border-bottom: 2px dotted #62ff62;
}
} 
</style>

<div class="horizontal_dotted_line" style="position: absolute; left: 3%; top: 94%; height: 0%; width: 94%; display: flex; flex-direction: column; align-items: center; justify-content: center" >

</div>

<div class="" style="padding: 0 30px; box-sizing: border-box; position: absolute; left: 0%; top: 64%; height: 30%; width: 100%; display: flex; flex-direction: column; align-items: flex-start; justify-content: flex-end" align="left">


</div>

<div class="" style="position: absolute; left: 0%; top: 94%; height: 6%; width: 100%; display: flex; flex-direction: column; align-items: center; justify-content: center" >


###### ¬© 2024 Ch0nky LTD<!-- .element: style="font-weight: 300, color" -->
</div>
</div>
</div></script></section><section  data-markdown><script type="text/template"><!-- .slide: class="drop" -->
<div class="" style="position: absolute; left: 0px; top: 0px; height: 540px; width: 960px; min-height: 540px; display: flex; flex-direction: column; align-items: center; justify-content: center" absolute="true">

<style> 
font-family: Consolas,monaco,monospace !important; 
</style>

<div class="" style="background: linear-gradient(#0a0b0a, #1d231d); position: absolute; left: 0%; top: 0%; height: 100%; width: 100%; display: flex; flex-direction: column; align-items: center; justify-content: center" >

<div class="has-light-background" style="background-color: #62ff62; padding: 0 20px; box-sizing: border-box; position: absolute; left: 0%; top: 0%; height: 10%; width: 100%; display: flex; flex-direction: column; align-items: flex-start; justify-content: space-evenly" align="left">

 <div class="block">

#### Win32 API	

</div>


</div>
<div class="" style="padding: 5px 15px; box-sizing: border-box; position: absolute; left: 3%; top: 13%; height: 66%; width: 90%; display: flex; flex-direction: column; align-items: flex-start; justify-content: space-evenly" align="left">




<!-- .element: style="font-size: 24px" -->
- We will mostly leverage documented functions from the Windows API
- The function definitions are well documented
- Reading that documentation however, is a skill that must be learned
- Sometimes, we need more control over what we are trying to accomplish, and will leverage undocumented functions stored in NTDLL.dll


</div>

<style>
.horizontal_dotted_line{
  border-bottom: 2px dotted #62ff62;
}
} 
</style>

<div class="horizontal_dotted_line" style="position: absolute; left: 3%; top: 94%; height: 0%; width: 94%; display: flex; flex-direction: column; align-items: center; justify-content: center" >

</div>

<div class="" style="padding: 0 30px; box-sizing: border-box; position: absolute; left: 0%; top: 64%; height: 30%; width: 100%; display: flex; flex-direction: column; align-items: flex-start; justify-content: flex-end" align="left">


</div>

<div class="" style="position: absolute; left: 0%; top: 94%; height: 6%; width: 100%; display: flex; flex-direction: column; align-items: center; justify-content: center" >


###### ¬© 2024 Ch0nky LTD<!-- .element: style="font-weight: 300, color" -->
</div>
</div>
</div></script></section><section  data-markdown><script type="text/template"><!-- .slide: class="drop" -->
<div class="" style="position: absolute; left: 0px; top: 0px; height: 540px; width: 960px; min-height: 540px; display: flex; flex-direction: column; align-items: center; justify-content: center" absolute="true">

<style> 
font-family: Consolas,monaco,monospace !important; 
</style>

<div class="" style="background: linear-gradient(#0a0b0a, #1d231d); position: absolute; left: 0%; top: 0%; height: 100%; width: 100%; display: flex; flex-direction: column; align-items: center; justify-content: center" >

<div class="has-light-background" style="background-color: #62ff62; padding: 0 20px; box-sizing: border-box; position: absolute; left: 0%; top: 0%; height: 10%; width: 100%; display: flex; flex-direction: column; align-items: flex-start; justify-content: space-evenly" align="left">

 <div class="block">

#### NtDLL.dll	

</div>


</div>
<div class="" style="padding: 5px 15px; box-sizing: border-box; position: absolute; left: 3%; top: 13%; height: 66%; width: 90%; display: flex; flex-direction: column; align-items: flex-start; justify-content: space-evenly" align="left">




<!-- .element: style="font-size: 24px" -->
- Implements the Windows Native API. This is the lowest layer of code that is still Userland code. 
- It is used to communicate with the kernel for system call invocation. 
- NtDLL also implements the Heap Manager, the (executable) Image loader and some of userland thread pools. Every process loads this DLL in the same location in memory! 


</div>

<style>
.horizontal_dotted_line{
  border-bottom: 2px dotted #62ff62;
}
} 
</style>

<div class="horizontal_dotted_line" style="position: absolute; left: 3%; top: 94%; height: 0%; width: 94%; display: flex; flex-direction: column; align-items: center; justify-content: center" >

</div>

<div class="" style="padding: 0 30px; box-sizing: border-box; position: absolute; left: 0%; top: 64%; height: 30%; width: 100%; display: flex; flex-direction: column; align-items: flex-start; justify-content: flex-end" align="left">


</div>

<div class="" style="position: absolute; left: 0%; top: 94%; height: 6%; width: 100%; display: flex; flex-direction: column; align-items: center; justify-content: center" >


###### ¬© 2024 Ch0nky LTD<!-- .element: style="font-weight: 300, color" -->
</div>
</div>
</div></script></section><section  data-markdown><script type="text/template"><!-- .slide: class="drop" -->
<div class="" style="position: absolute; left: 0px; top: 0px; height: 540px; width: 960px; min-height: 540px; display: flex; flex-direction: column; align-items: center; justify-content: center" absolute="true">

<style> 
font-family: Consolas,monaco,monospace !important; 
</style>

<div class="" style="background: linear-gradient(#0a0b0a, #1d231d); position: absolute; left: 0%; top: 0%; height: 100%; width: 100%; display: flex; flex-direction: column; align-items: center; justify-content: center" >

<div class="has-light-background" style="background-color: #62ff62; padding: 0 20px; box-sizing: border-box; position: absolute; left: 0%; top: 0%; height: 10%; width: 100%; display: flex; flex-direction: column; align-items: flex-start; justify-content: space-evenly" align="left">

 <div class="block">

#### Kernel32.dll

</div>


</div>
<div class="" style="padding: 5px 15px; box-sizing: border-box; position: absolute; left: 3%; top: 13%; height: 66%; width: 90%; display: flex; flex-direction: column; align-items: flex-start; justify-content: space-evenly" align="left">




<!-- .element: style="font-size: 24px" -->
- Contains (more or less) the same functionality as NtDLL!
- It exposes basic operations such as memory management, input/output (I/O) operations, process and thread creation, and synchronization functions
- It can be thought of as a compatibility layer, as it almost always calls directly into NTDLL.dll
- This is to maintain backwards compatibility‚Äì where the Win32 API rarely changes, but the Native API changes from release to release.


</div>

<style>
.horizontal_dotted_line{
  border-bottom: 2px dotted #62ff62;
}
} 
</style>

<div class="horizontal_dotted_line" style="position: absolute; left: 3%; top: 94%; height: 0%; width: 94%; display: flex; flex-direction: column; align-items: center; justify-content: center" >

</div>

<div class="" style="padding: 0 30px; box-sizing: border-box; position: absolute; left: 0%; top: 64%; height: 30%; width: 100%; display: flex; flex-direction: column; align-items: flex-start; justify-content: flex-end" align="left">


</div>

<div class="" style="position: absolute; left: 0%; top: 94%; height: 6%; width: 100%; display: flex; flex-direction: column; align-items: center; justify-content: center" >


###### ¬© 2024 Ch0nky LTD<!-- .element: style="font-weight: 300, color" -->
</div>
</div>
</div></script></section><section  data-markdown><script type="text/template"><!-- .slide: class="drop" -->
<div class="" style="position: absolute; left: 0px; top: 0px; height: 540px; width: 960px; min-height: 540px; display: flex; flex-direction: column; align-items: center; justify-content: center" absolute="true">

<style> 
font-family: Consolas,monaco,monospace !important; 
</style>

<div class="" style="background: linear-gradient(#0a0b0a, #1d231d); position: absolute; left: 0%; top: 0%; height: 100%; width: 100%; display: flex; flex-direction: column; align-items: center; justify-content: center" >


<div class="" style="position: absolute; left: 5%; top: 13%; height: 66%; width: 90%; display: flex; flex-direction: column; align-items: center; justify-content: center" align="center">

## <span style="color:#62ff62">
How do we interact with the Window's API?</span>
</div>

<style>
.horizontal_dotted_line{
  border-bottom: 2px dotted #62ff62;
}
} 
</style>

<div class="horizontal_dotted_line" style="position: absolute; left: 3%; top: 94%; height: 0%; width: 94%; display: flex; flex-direction: column; align-items: center; justify-content: center" >

</div>

<div class="" style="padding: 0 30px; box-sizing: border-box; position: absolute; left: 0%; top: 64%; height: 30%; width: 100%; display: flex; flex-direction: column; align-items: flex-start; justify-content: flex-end" align="left">


</div>

<div class="" style="position: absolute; left: 0%; top: 94%; height: 6%; width: 100%; display: flex; flex-direction: column; align-items: center; justify-content: center" >

###### ¬© 2024 Ch0nky LTD<!-- .element: style="font-weight: 300" -->
</div>
</div>
</div></script></section><section  data-markdown><script type="text/template"><!-- .slide: class="drop" -->
<div class="" style="position: absolute; left: 0px; top: 0px; height: 540px; width: 960px; min-height: 540px; display: flex; flex-direction: column; align-items: center; justify-content: center" absolute="true">

<iframe width="1180" height="664" src="https://www.youtube.com/embed/toSm_flWhyE?start=20&end=32" title="Sesame Street: Letter C (Letter of the Day)" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>
</div></script></section><section  data-markdown><script type="text/template"><!-- .slide: class="drop" -->
<div class="" style="position: absolute; left: 0px; top: 0px; height: 540px; width: 960px; min-height: 540px; display: flex; flex-direction: column; align-items: center; justify-content: center" absolute="true">

<style> 
font-family: Consolas,monaco,monospace !important; 
</style>

<div class="" style="background: linear-gradient(#0a0b0a, #1d231d); position: absolute; left: 0%; top: 0%; height: 100%; width: 100%; display: flex; flex-direction: column; align-items: center; justify-content: center" >

<div class="has-light-background" style="background-color: #62ff62; padding: 0 20px; box-sizing: border-box; position: absolute; left: 0%; top: 0%; height: 10%; width: 100%; display: flex; flex-direction: column; align-items: flex-start; justify-content: space-evenly" align="left">

 <div class="block">

####  C Overview 

</div>


</div>
<div class="" style="padding: 5px 15px; box-sizing: border-box; position: absolute; left: 3%; top: 13%; height: 66%; width: 90%; display: flex; flex-direction: column; align-items: flex-start; justify-content: space-evenly" align="left">




<!-- .element: style="font-size: 24px" -->
- C/C++ is a statically typed, compiled programing language 
- A large portion of malware you will encounter is written in C/C++
- C/C++ has no Garbage collector:
	- This Forces the developer to manage their own memory
- While it is general purpose, we will use it as a systems programing language
- C++ has many different versions, many different compilers and tools to help with debugging


</div>

<style>
.horizontal_dotted_line{
  border-bottom: 2px dotted #62ff62;
}
} 
</style>

<div class="horizontal_dotted_line" style="position: absolute; left: 3%; top: 94%; height: 0%; width: 94%; display: flex; flex-direction: column; align-items: center; justify-content: center" >

</div>

<div class="" style="padding: 0 30px; box-sizing: border-box; position: absolute; left: 0%; top: 64%; height: 30%; width: 100%; display: flex; flex-direction: column; align-items: flex-start; justify-content: flex-end" align="left">


</div>

<div class="" style="position: absolute; left: 0%; top: 94%; height: 6%; width: 100%; display: flex; flex-direction: column; align-items: center; justify-content: center" >


###### ¬© 2024 Ch0nky LTD<!-- .element: style="font-weight: 300, color" -->
</div>
</div>
</div></script></section><section  data-markdown><script type="text/template"><!-- .slide: class="drop" -->
<div class="" style="position: absolute; left: 0px; top: 0px; height: 540px; width: 960px; min-height: 540px; display: flex; flex-direction: column; align-items: center; justify-content: center" absolute="true">

<style> 
font-family: Consolas,monaco,monospace !important; 
</style>

<div class="" style="background: linear-gradient(#0a0b0a, #1d231d); position: absolute; left: 0%; top: 0%; height: 100%; width: 100%; display: flex; flex-direction: column; align-items: center; justify-content: center" >

<div class="has-light-background" style="background-color: #62ff62; padding: 0 20px; box-sizing: border-box; position: absolute; left: 0%; top: 0%; height: 10%; width: 100%; display: flex; flex-direction: column; align-items: flex-start; justify-content: space-evenly" align="left">

 <div class="block">

#### Concepts you need to know for this class

</div>


</div>
<div class="" style="padding: 5px 15px; box-sizing: border-box; position: absolute; left: 3%; top: 13%; height: 66%; width: 90%; display: flex; flex-direction: column; align-items: flex-start; justify-content: space-evenly" align="left">




<!-- .element: style="font-size: 24px" -->
- Memory  management with C/C++
- Pointer Arithmetic 
- Basic C types 
-  Note these are prerequisites

</div>

<style>
.horizontal_dotted_line{
  border-bottom: 2px dotted #62ff62;
}
} 
</style>

<div class="horizontal_dotted_line" style="position: absolute; left: 3%; top: 94%; height: 0%; width: 94%; display: flex; flex-direction: column; align-items: center; justify-content: center" >

</div>

<div class="" style="padding: 0 30px; box-sizing: border-box; position: absolute; left: 0%; top: 64%; height: 30%; width: 100%; display: flex; flex-direction: column; align-items: flex-start; justify-content: flex-end" align="left">


</div>

<div class="" style="position: absolute; left: 0%; top: 94%; height: 6%; width: 100%; display: flex; flex-direction: column; align-items: center; justify-content: center" >


###### ¬© 2024 Ch0nky LTD<!-- .element: style="font-weight: 300, color" -->
</div>
</div>
</div></script></section><section  data-markdown><script type="text/template"><!-- .slide: class="drop" -->
<div class="" style="position: absolute; left: 0px; top: 0px; height: 540px; width: 960px; min-height: 540px; display: flex; flex-direction: column; align-items: center; justify-content: center" absolute="true">

<style> 
font-family: Consolas,monaco,monospace !important; 
</style>

<div class="" style="background: linear-gradient(#0a0b0a, #1d231d); position: absolute; left: 0%; top: 0%; height: 100%; width: 100%; display: flex; flex-direction: column; align-items: center; justify-content: center" >

<div class="has-light-background" style="background-color: #62ff62; padding: 0 20px; box-sizing: border-box; position: absolute; left: 0%; top: 0%; height: 10%; width: 100%; display: flex; flex-direction: column; align-items: flex-start; justify-content: space-evenly" align="left">

 <div class="block">

#### Compiler toolchain for this class

</div>


</div>
<div class="" style="padding: 5px 15px; box-sizing: border-box; position: absolute; left: 3%; top: 13%; height: 66%; width: 90%; display: flex; flex-direction: column; align-items: flex-start; justify-content: space-evenly" align="left">




<!-- .element: style="font-size: 24px" -->
- For this class you may choose one of the following:
- MinGW (GNU gcc/g++ compiler)
	- Minimal GNU GCC on Windows
- clang/clang++
	-   Compiler toolchain built on top of LLVM
- zig C/C++ compiler 
	- Technically, zig is itself a 
programming
 language that is built on top of llvm. It provides a drop in 
replacement
 for most C/C++ compilers and provides cross compilation out of the box! It also tends to create smaller, more hackable builds as it supports directly 
emitting
 LLVM (not covered in this class, but you should 
definitely
 check it out!)
- In either case, we will use GNU Make to simplify 
the build process 


</div>

<style>
.horizontal_dotted_line{
  border-bottom: 2px dotted #62ff62;
}
} 
</style>

<div class="horizontal_dotted_line" style="position: absolute; left: 3%; top: 94%; height: 0%; width: 94%; display: flex; flex-direction: column; align-items: center; justify-content: center" >

</div>

<div class="" style="padding: 0 30px; box-sizing: border-box; position: absolute; left: 0%; top: 64%; height: 30%; width: 100%; display: flex; flex-direction: column; align-items: flex-start; justify-content: flex-end" align="left">


</div>

<div class="" style="position: absolute; left: 0%; top: 94%; height: 6%; width: 100%; display: flex; flex-direction: column; align-items: center; justify-content: center" >


###### ¬© 2024 Ch0nky LTD<!-- .element: style="font-weight: 300, color" -->
</div>
</div>
</div></script></section><section  data-markdown><script type="text/template"><!-- .slide: class="drop" -->
<div class="" style="position: absolute; left: 0px; top: 0px; height: 540px; width: 960px; min-height: 540px; display: flex; flex-direction: column; align-items: center; justify-content: center" absolute="true">

<style> 
font-family: Consolas,monaco,monospace !important; 
</style>

<div class="" style="background: linear-gradient(#0a0b0a, #1d231d); position: absolute; left: 0%; top: 0%; height: 100%; width: 100%; display: flex; flex-direction: column; align-items: center; justify-content: center" >

<div class="has-light-background" style="background-color: #62ff62; padding: 0 20px; box-sizing: border-box; position: absolute; left: 0%; top: 0%; height: 10%; width: 100%; display: flex; flex-direction: column; align-items: flex-start; justify-content: space-evenly" align="left">

 <div class="block">

#### Development tools

</div>


</div>
<div class="" style="padding: 5px 15px; box-sizing: border-box; position: absolute; left: 3%; top: 13%; height: 66%; width: 90%; display: flex; flex-direction: column; align-items: flex-start; justify-content: space-evenly" align="left">




<!-- .element: style="font-size: 24px" -->
- We will use Visual Studio Code (blue, not purple program) as our IDE
	- Feel free to install c/c++ 
intellisense
 tools to get tab completion
- The officially supported compiler will be Mingw (gcc/g++)
- clang/Clang++, which is in most cases a drop in replacement, is also supported, and preferable when leveraging 
certain
 C++ Std libs.
	- Threading with mingw doesn‚Äôt always work/isn‚Äôt always supported :)
- For 
Debugging
, we will use x64dbg
- For analyzing the executable statically, we will use a combination of PE-Bear and Ghidra


</div>

<style>
.horizontal_dotted_line{
  border-bottom: 2px dotted #62ff62;
}
} 
</style>

<div class="horizontal_dotted_line" style="position: absolute; left: 3%; top: 94%; height: 0%; width: 94%; display: flex; flex-direction: column; align-items: center; justify-content: center" >

</div>

<div class="" style="padding: 0 30px; box-sizing: border-box; position: absolute; left: 0%; top: 64%; height: 30%; width: 100%; display: flex; flex-direction: column; align-items: flex-start; justify-content: flex-end" align="left">


</div>

<div class="" style="position: absolute; left: 0%; top: 94%; height: 6%; width: 100%; display: flex; flex-direction: column; align-items: center; justify-content: center" >


###### ¬© 2024 Ch0nky LTD<!-- .element: style="font-weight: 300, color" -->
</div>
</div>
</div></script></section><section  data-markdown><script type="text/template"><!-- .slide: class="drop" -->
<div class="" style="position: absolute; left: 0px; top: 0px; height: 540px; width: 960px; min-height: 540px; display: flex; flex-direction: column; align-items: center; justify-content: center" absolute="true">

<style> 
font-family: Consolas,monaco,monospace !important; 
</style>

<div class="" style="background: linear-gradient(#0a0b0a, #1d231d); position: absolute; left: 0%; top: 0%; height: 100%; width: 100%; display: flex; flex-direction: column; align-items: center; justify-content: center" >

<div class="has-light-background" style="background-color: #62ff62; padding: 0 20px; box-sizing: border-box; position: absolute; left: 0%; top: 0%; height: 10%; width: 100%; display: flex; flex-direction: column; align-items: flex-start; justify-content: space-evenly" align="left">

 <div class="block">

#### Why not Visual Studio?	

</div>


</div>
<div class="" style="padding: 5px 15px; box-sizing: border-box; position: absolute; left: 3%; top: 13%; height: 66%; width: 90%; display: flex; flex-direction: column; align-items: flex-start; justify-content: space-evenly" align="left">




<!-- .element: style="font-size: 24px" -->
- Windows has an official C compiler: cl.exe 
- Visual Studio IDE + cl.exe does not easily support cross compilation (i.e., compiling our code on a Linux machine targeting a windows machine)
- Windows is a pretty ‚Äúheavy‚Äù OS in that it is not as cheap to deploy as a linux box. 
- For Tailored payloads, having a build server that can be run on any Linux machine is an incredibly attractive feature for our purposes
- ...It also makes grading easier/possible :D
- ...Also I don‚Äôt like .sln (Solution) files (build files used by Visual Studio) 


</div>

<style>
.horizontal_dotted_line{
  border-bottom: 2px dotted #62ff62;
}
} 
</style>

<div class="horizontal_dotted_line" style="position: absolute; left: 3%; top: 94%; height: 0%; width: 94%; display: flex; flex-direction: column; align-items: center; justify-content: center" >

</div>

<div class="" style="padding: 0 30px; box-sizing: border-box; position: absolute; left: 0%; top: 64%; height: 30%; width: 100%; display: flex; flex-direction: column; align-items: flex-start; justify-content: flex-end" align="left">


</div>

<div class="" style="position: absolute; left: 0%; top: 94%; height: 6%; width: 100%; display: flex; flex-direction: column; align-items: center; justify-content: center" >


###### ¬© 2024 Ch0nky LTD<!-- .element: style="font-weight: 300, color" -->
</div>
</div>
</div></script></section><section  data-markdown><script type="text/template"><!-- .slide: class="drop" -->
<div class="" style="position: absolute; left: 0px; top: 0px; height: 540px; width: 960px; min-height: 540px; display: flex; flex-direction: column; align-items: center; justify-content: center" absolute="true">

<style> 
font-family: Consolas,monaco,monospace !important; 
</style>

<div class="" style="background: linear-gradient(#0a0b0a, #1d231d); position: absolute; left: 0%; top: 0%; height: 100%; width: 100%; display: flex; flex-direction: column; align-items: center; justify-content: center" >

<div class="has-light-background" style="background-color: #62ff62; padding: 0 20px; box-sizing: border-box; position: absolute; left: 0%; top: 0%; height: 10%; width: 100%; display: flex; flex-direction: column; align-items: flex-start; justify-content: space-evenly" align="left">

 <div class="block">

#### ...Also
</div>


</div>

<div class="" style="position: absolute; left: 3%; top: 13%; height: 87%; width: 45%; display: flex; flex-direction: column; align-items: flex-start; justify-content: flex-start" align="left">

<div class="block">

<!-- .element: style="font-size: 24px" -->
- It can run slowly in a VM and is very memory hungry.
- Kidding aside, it is an incredible IDE, and the standard in industry for large scale software development.
- This class doesn‚Äôt cover it.
- I also on principal hate all Microsoft products that have ‚ÄúEnterprise‚Äù in the name.

</div>


</div>

<div class="" style="position: absolute; left: 50%; top: 13%; height: 75%; width: 45%; display: flex; flex-direction: column; align-items: flex-start; justify-content: flex-start" align="left">

<div class="block">

<img src="MalwareCourse/Memes/0x04_slide_15_image.png" alt="" style="width: 400px; object-fit: fill">



</div>


</div>

<small>







</small>

<style>
.horizontal_dotted_line{
  border-bottom: 2px dotted #62ff62;
}
} 
</style>

<div class="horizontal_dotted_line" style="position: absolute; left: 3%; top: 94%; height: 0%; width: 94%; display: flex; flex-direction: column; align-items: center; justify-content: center" >

</div>

<div class="" style="padding: 0 30px; box-sizing: border-box; position: absolute; left: 0%; top: 64%; height: 30%; width: 100%; display: flex; flex-direction: column; align-items: flex-start; justify-content: flex-end" align="left">


</div>

<div class="" style="position: absolute; left: 0%; top: 94%; height: 6%; width: 100%; display: flex; flex-direction: column; align-items: center; justify-content: center" >

###### ¬© 2024 Ch0nky LTD<!-- .element: style="font-weight: 300" -->
</div>
</div>
</div></script></section><section  data-markdown><script type="text/template"><!-- .slide: class="drop" -->
<div class="" style="position: absolute; left: 0px; top: 0px; height: 540px; width: 960px; min-height: 540px; display: flex; flex-direction: column; align-items: center; justify-content: center" absolute="true">

<style> 
font-family: Consolas,monaco,monospace !important; 
</style>

<div class="" style="background: linear-gradient(#0a0b0a, #1d231d); position: absolute; left: 0%; top: 0%; height: 100%; width: 100%; display: flex; flex-direction: column; align-items: center; justify-content: center" >

<div class="has-light-background" style="background-color: #62ff62; padding: 0 20px; box-sizing: border-box; position: absolute; left: 0%; top: 0%; height: 10%; width: 100%; display: flex; flex-direction: column; align-items: flex-start; justify-content: space-evenly" align="left">

 <div class="block">

#### Why Visual Studio?	


</div>


</div>
<div class="" style="padding: 5px 15px; box-sizing: border-box; position: absolute; left: 3%; top: 13%; height: 66%; width: 90%; display: flex; flex-direction: column; align-items: flex-start; justify-content: space-evenly" align="left">




<!-- .element: style="font-size: 24px" -->
- It is a lot easier to target **all** versions of Windows
- VS has a powerful debugger (you can set source code breakpoints!)
- Windows Driver Kit plays better with VS
- VCPKG
- Easier to test


</div>

<style>
.horizontal_dotted_line{
  border-bottom: 2px dotted #62ff62;
}
} 
</style>

<div class="horizontal_dotted_line" style="position: absolute; left: 3%; top: 94%; height: 0%; width: 94%; display: flex; flex-direction: column; align-items: center; justify-content: center" >

</div>

<div class="" style="padding: 0 30px; box-sizing: border-box; position: absolute; left: 0%; top: 64%; height: 30%; width: 100%; display: flex; flex-direction: column; align-items: flex-start; justify-content: flex-end" align="left">


</div>

<div class="" style="position: absolute; left: 0%; top: 94%; height: 6%; width: 100%; display: flex; flex-direction: column; align-items: center; justify-content: center" >


###### ¬© 2024 Ch0nky LTD<!-- .element: style="font-weight: 300, color" -->
</div>
</div>
</div></script></section><section  data-markdown><script type="text/template"><!-- .slide: class="drop" -->
<div class="" style="position: absolute; left: 0px; top: 0px; height: 540px; width: 960px; min-height: 540px; display: flex; flex-direction: column; align-items: center; justify-content: center" absolute="true">

<style> 
font-family: Consolas,monaco,monospace !important; 
</style>

<div class="" style="background: linear-gradient(#0a0b0a, #1d231d); position: absolute; left: 0%; top: 0%; height: 100%; width: 100%; display: flex; flex-direction: column; align-items: center; justify-content: center" >

<div class="has-light-background" style="background-color: #62ff62; padding: 0 20px; box-sizing: border-box; position: absolute; left: 0%; top: 0%; height: 10%; width: 100%; display: flex; flex-direction: column; align-items: flex-start; justify-content: space-evenly" align="left">

 <div class="block">

#### C, Microsoft Visual C, and C Runtimes 

</div>


</div>
<div class="" style="padding: 5px 15px; box-sizing: border-box; position: absolute; left: 3%; top: 13%; height: 66%; width: 90%; display: flex; flex-direction: column; align-items: flex-start; justify-content: space-evenly" align="left">




<!-- .element: style="font-size: 24px" -->
- C is a 
programming
 language specification
- It is implementation dependent!  
- Similar to LibC on Linux, Windows has a C runtime environment called the Microsoft Visual C Runtime
- This is different from the C 
programming
 language, and is usually compiler/implementation specific. 
- This gives you access to standard functions 
- Visual C != C, but they are very similar, and let you program basically the same way.
- Visual C has 
different
 compiler/linker directives  
	- This means you might have to modify Microsoft example code for it to run with Mingw/clang


</div>

<style>
.horizontal_dotted_line{
  border-bottom: 2px dotted #62ff62;
}
} 
</style>

<div class="horizontal_dotted_line" style="position: absolute; left: 3%; top: 94%; height: 0%; width: 94%; display: flex; flex-direction: column; align-items: center; justify-content: center" >

</div>

<div class="" style="padding: 0 30px; box-sizing: border-box; position: absolute; left: 0%; top: 64%; height: 30%; width: 100%; display: flex; flex-direction: column; align-items: flex-start; justify-content: flex-end" align="left">


</div>

<div class="" style="position: absolute; left: 0%; top: 94%; height: 6%; width: 100%; display: flex; flex-direction: column; align-items: center; justify-content: center" >


###### ¬© 2024 Ch0nky LTD<!-- .element: style="font-weight: 300, color" -->
</div>
</div>
</div></script></section><section  data-markdown><script type="text/template"><!-- .slide: class="drop" -->
<div class="" style="position: absolute; left: 0px; top: 0px; height: 540px; width: 960px; min-height: 540px; display: flex; flex-direction: column; align-items: center; justify-content: center" absolute="true">

<style> 
font-family: Consolas,monaco,monospace !important; 
</style>

<div class="" style="background: linear-gradient(#0a0b0a, #1d231d); position: absolute; left: 0%; top: 0%; height: 100%; width: 100%; display: flex; flex-direction: column; align-items: center; justify-content: center" >

<div class="has-light-background" style="background-color: #62ff62; padding: 0 20px; box-sizing: border-box; position: absolute; left: 0%; top: 0%; height: 10%; width: 100%; display: flex; flex-direction: column; align-items: flex-start; justify-content: space-evenly" align="left">

 <div class="block">

#### Hello World! Posix style  

</div>


</div>
<div class="" style="padding: 5px 15px; box-sizing: border-box; position: absolute; left: 3%; top: 13%; height: 66%; width: 90%; display: flex; flex-direction: column; align-items: flex-start; justify-content: space-evenly" align="left">



```c
#include <stdio.h>

int main(){
	printf("Hello world!\n");
	return 0;
}
```

</div>

<style>
.horizontal_dotted_line{
  border-bottom: 2px dotted #62ff62;
}
} 
</style>

<div class="horizontal_dotted_line" style="position: absolute; left: 3%; top: 94%; height: 0%; width: 94%; display: flex; flex-direction: column; align-items: center; justify-content: center" >

</div>

<div class="" style="padding: 0 30px; box-sizing: border-box; position: absolute; left: 0%; top: 64%; height: 30%; width: 100%; display: flex; flex-direction: column; align-items: flex-start; justify-content: flex-end" align="left">


</div>

<div class="" style="position: absolute; left: 0%; top: 94%; height: 6%; width: 100%; display: flex; flex-direction: column; align-items: center; justify-content: center" >


###### ¬© 2024 Ch0nky LTD<!-- .element: style="font-weight: 300, color" -->
</div>
</div>
</div></script></section><section  data-markdown><script type="text/template"><!-- .slide: class="drop" -->
<div class="" style="position: absolute; left: 0px; top: 0px; height: 540px; width: 960px; min-height: 540px; display: flex; flex-direction: column; align-items: center; justify-content: center" absolute="true">

<style> 
font-family: Consolas,monaco,monospace !important; 
</style>

<div class="" style="background: linear-gradient(#0a0b0a, #1d231d); position: absolute; left: 0%; top: 0%; height: 100%; width: 100%; display: flex; flex-direction: column; align-items: center; justify-content: center" >

<div class="has-light-background" style="background-color: #62ff62; padding: 0 20px; box-sizing: border-box; position: absolute; left: 0%; top: 0%; height: 10%; width: 100%; display: flex; flex-direction: column; align-items: flex-start; justify-content: space-evenly" align="left">

 <div class="block">

#### Hello World: Win32

</div>


</div>
<div class="" style="padding: 5px 15px; box-sizing: border-box; position: absolute; left: 3%; top: 13%; height: 66%; width: 90%; display: flex; flex-direction: column; align-items: flex-start; justify-content: space-evenly" align="left">




```c
#include <windows.h>

const char message[] = "Hello world!\n";


int main(){
    // Message
    // Message size in bytes, not including the NULL-Byte
    DWORD messageSize = 13;
    DWORD dwBytesWritten = 0;

    // get Handle to STD_OUTPUT
    HANDLE stdOut = GetStdHandle(STD_OUTPUT_HANDLE);

    WriteFile(
        stdOut, 
        message,
        messageSize,
        &dwBytesWritten,
        NULL
    );
    return 0;
}
```

</div>

<style>
.horizontal_dotted_line{
  border-bottom: 2px dotted #62ff62;
}
} 
</style>

<div class="horizontal_dotted_line" style="position: absolute; left: 3%; top: 94%; height: 0%; width: 94%; display: flex; flex-direction: column; align-items: center; justify-content: center" >

</div>

<div class="" style="padding: 0 30px; box-sizing: border-box; position: absolute; left: 0%; top: 64%; height: 30%; width: 100%; display: flex; flex-direction: column; align-items: flex-start; justify-content: flex-end" align="left">


</div>

<div class="" style="position: absolute; left: 0%; top: 94%; height: 6%; width: 100%; display: flex; flex-direction: column; align-items: center; justify-content: center" >


###### ¬© 2024 Ch0nky LTD<!-- .element: style="font-weight: 300, color" -->
</div>
</div>
</div></script></section><section  data-markdown><script type="text/template"><!-- .slide: class="drop" -->
<div class="" style="position: absolute; left: 0px; top: 0px; height: 540px; width: 960px; min-height: 540px; display: flex; flex-direction: column; align-items: center; justify-content: center" absolute="true">

<style> 
font-family: Consolas,monaco,monospace !important; 
</style>

<div class="" style="background: linear-gradient(#0a0b0a, #1d231d); position: absolute; left: 0%; top: 0%; height: 100%; width: 100%; display: flex; flex-direction: column; align-items: center; justify-content: center" >

<div class="has-light-background" style="background-color: #62ff62; padding: 0 20px; box-sizing: border-box; position: absolute; left: 0%; top: 0%; height: 10%; width: 100%; display: flex; flex-direction: column; align-items: flex-start; justify-content: space-evenly" align="left">

 <div class="block">

#### WTH: that is so much more code!

</div>


</div>
<div class="" style="padding: 5px 15px; box-sizing: border-box; position: absolute; left: 3%; top: 13%; height: 66%; width: 90%; display: flex; flex-direction: column; align-items: flex-start; justify-content: space-evenly" align="left">




<!-- .element: style="font-size: 24px" -->
- C-Runtimes abstract away details of utilizing OS 
provided APIs for interacting with system resources and objects 
- The text you observe when running a terminal application is actually displaying content from STDOUT, STDERR and takes inputs from STDIN
- We will discuss more about windows internals later, but everything is accessed by 
handles
- For those familiar with Linux internals, a handle fulfils more or less the same role as a Binary File Descriptor
- Under the hood, printf will also get a handle to Standard output and push data to it! 


</div>

<style>
.horizontal_dotted_line{
  border-bottom: 2px dotted #62ff62;
}
} 
</style>

<div class="horizontal_dotted_line" style="position: absolute; left: 3%; top: 94%; height: 0%; width: 94%; display: flex; flex-direction: column; align-items: center; justify-content: center" >

</div>

<div class="" style="padding: 0 30px; box-sizing: border-box; position: absolute; left: 0%; top: 64%; height: 30%; width: 100%; display: flex; flex-direction: column; align-items: flex-start; justify-content: flex-end" align="left">


</div>

<div class="" style="position: absolute; left: 0%; top: 94%; height: 6%; width: 100%; display: flex; flex-direction: column; align-items: center; justify-content: center" >


###### ¬© 2024 Ch0nky LTD<!-- .element: style="font-weight: 300, color" -->
</div>
</div>
</div></script></section><section  data-markdown><script type="text/template"><!-- .slide: class="drop" -->
<div class="" style="position: absolute; left: 0px; top: 0px; height: 540px; width: 960px; min-height: 540px; display: flex; flex-direction: column; align-items: center; justify-content: center" absolute="true">

<style> 
font-family: Consolas,monaco,monospace !important; 
</style>

<div class="" style="background: linear-gradient(#0a0b0a, #1d231d); position: absolute; left: 0%; top: 0%; height: 100%; width: 100%; display: flex; flex-direction: column; align-items: center; justify-content: center" >

<div class="has-light-background" style="background-color: #62ff62; padding: 0 20px; box-sizing: border-box; position: absolute; left: 0%; top: 0%; height: 10%; width: 100%; display: flex; flex-direction: column; align-items: flex-start; justify-content: space-evenly" align="left">

 <div class="block">

#### Interop: Libc and MSVC

</div>


</div>
<div class="" style="padding: 5px 15px; box-sizing: border-box; position: absolute; left: 3%; top: 13%; height: 66%; width: 90%; display: flex; flex-direction: column; align-items: flex-start; justify-content: space-evenly" align="left">




<!-- .element: style="font-size: 24px" -->
- Most functions implemented in Libc‚Äôs stdlib are also implemented in MSVCR (Microsoft Visual C Runtime) 
- Using the stdlib adds a (tiny) amount of overhead

</div>

<style>
.horizontal_dotted_line{
  border-bottom: 2px dotted #62ff62;
}
} 
</style>

<div class="horizontal_dotted_line" style="position: absolute; left: 3%; top: 94%; height: 0%; width: 94%; display: flex; flex-direction: column; align-items: center; justify-content: center" >

</div>

<div class="" style="padding: 0 30px; box-sizing: border-box; position: absolute; left: 0%; top: 64%; height: 30%; width: 100%; display: flex; flex-direction: column; align-items: flex-start; justify-content: flex-end" align="left">


</div>

<div class="" style="position: absolute; left: 0%; top: 94%; height: 6%; width: 100%; display: flex; flex-direction: column; align-items: center; justify-content: center" >


###### ¬© 2024 Ch0nky LTD<!-- .element: style="font-weight: 300, color" -->
</div>
</div>
</div></script></section><section  data-markdown><script type="text/template"><!-- .slide: class="drop" -->
<div class="" style="position: absolute; left: 0px; top: 0px; height: 540px; width: 960px; min-height: 540px; display: flex; flex-direction: column; align-items: center; justify-content: center" absolute="true">

<style> 
font-family: Consolas,monaco,monospace !important; 
</style>

<div class="" style="background: linear-gradient(#0a0b0a, #1d231d); position: absolute; left: 0%; top: 0%; height: 100%; width: 100%; display: flex; flex-direction: column; align-items: center; justify-content: center" >

<div class="has-light-background" style="background-color: #62ff62; padding: 0 20px; box-sizing: border-box; position: absolute; left: 0%; top: 0%; height: 10%; width: 100%; display: flex; flex-direction: column; align-items: flex-start; justify-content: space-evenly" align="left">

 <div class="block">

#### Entry Point:

</div>


</div>
<div class="" style="padding: 5px 15px; box-sizing: border-box; position: absolute; left: 3%; top: 13%; height: 66%; width: 90%; display: flex; flex-direction: column; align-items: flex-start; justify-content: space-evenly" align="left">




<!-- .element: style="font-size: 24px" -->
- Process creation is a very complex topic, and has many moving parts
- From last class, you should know that the OS performs a sequence of operations, and if there are no errors at the end, the loader will pass execution of the process to the 
entry point
- This is the 
first
 bit of user defined code that is executed when the process starts 
- This will look different depending on what 
type
 of executable we create! Windows supports executables targeting different 
subsystems
- We will focus on 
console
 applications for this lecture.

</div>

<style>
.horizontal_dotted_line{
  border-bottom: 2px dotted #62ff62;
}
} 
</style>

<div class="horizontal_dotted_line" style="position: absolute; left: 3%; top: 94%; height: 0%; width: 94%; display: flex; flex-direction: column; align-items: center; justify-content: center" >

</div>

<div class="" style="padding: 0 30px; box-sizing: border-box; position: absolute; left: 0%; top: 64%; height: 30%; width: 100%; display: flex; flex-direction: column; align-items: flex-start; justify-content: flex-end" align="left">


</div>

<div class="" style="position: absolute; left: 0%; top: 94%; height: 6%; width: 100%; display: flex; flex-direction: column; align-items: center; justify-content: center" >


###### ¬© 2024 Ch0nky LTD<!-- .element: style="font-weight: 300, color" -->
</div>
</div>
</div></script></section><section  data-markdown><script type="text/template"><!-- .slide: class="drop" -->
<div class="" style="position: absolute; left: 0px; top: 0px; height: 540px; width: 960px; min-height: 540px; display: flex; flex-direction: column; align-items: center; justify-content: center" absolute="true">

<style> 
font-family: Consolas,monaco,monospace !important; 
</style>

<div class="" style="background: linear-gradient(#0a0b0a, #1d231d); position: absolute; left: 0%; top: 0%; height: 100%; width: 100%; display: flex; flex-direction: column; align-items: center; justify-content: center" >

<div class="has-light-background" style="background-color: #62ff62; padding: 0 20px; box-sizing: border-box; position: absolute; left: 0%; top: 0%; height: 10%; width: 100%; display: flex; flex-direction: column; align-items: flex-start; justify-content: space-evenly" align="left">

 <div class="block">

#### Code Sample 0:

</div>


</div>
<div class="" style="padding: 5px 15px; box-sizing: border-box; position: absolute; left: 3%; top: 13%; height: 66%; width: 90%; display: flex; flex-direction: column; align-items: flex-start; justify-content: space-evenly" align="left">




<!-- .element: style="font-size: 24px" -->
- The C-Runtime is used by most executables, and as a result most compiler toolchains will call the C runtime startup code by default!
- In this example, we will compile a simple hello world program with and without it!
- Just like in Linux, the executables produced by our compilers have support for debugging information: in 
particular
, we can view the symbols associated with the generated assembly code 
- Let‚Äôs take a look at this!


</div>

<style>
.horizontal_dotted_line{
  border-bottom: 2px dotted #62ff62;
}
} 
</style>

<div class="horizontal_dotted_line" style="position: absolute; left: 3%; top: 94%; height: 0%; width: 94%; display: flex; flex-direction: column; align-items: center; justify-content: center" >

</div>

<div class="" style="padding: 0 30px; box-sizing: border-box; position: absolute; left: 0%; top: 64%; height: 30%; width: 100%; display: flex; flex-direction: column; align-items: flex-start; justify-content: flex-end" align="left">


</div>

<div class="" style="position: absolute; left: 0%; top: 94%; height: 6%; width: 100%; display: flex; flex-direction: column; align-items: center; justify-content: center" >


###### ¬© 2024 Ch0nky LTD<!-- .element: style="font-weight: 300, color" -->
</div>
</div>
</div></script></section><section  data-markdown><script type="text/template"><!-- .slide: class="drop" -->
<div class="" style="position: absolute; left: 0px; top: 0px; height: 540px; width: 960px; min-height: 540px; display: flex; flex-direction: column; align-items: center; justify-content: center" absolute="true">

<style> 
font-family: Consolas,monaco,monospace !important; 
</style>

<div class="" style="background: linear-gradient(#0a0b0a, #1d231d); position: absolute; left: 0%; top: 0%; height: 100%; width: 100%; display: flex; flex-direction: column; align-items: center; justify-content: center" >

<div class="has-light-background" style="background-color: #62ff62; padding: 0 20px; box-sizing: border-box; position: absolute; left: 0%; top: 0%; height: 10%; width: 100%; display: flex; flex-direction: column; align-items: flex-start; justify-content: space-evenly" align="left">

 <div class="block">

#### Fundamental Concepts For this class

</div>


</div>
<div class="" style="padding: 5px 15px; box-sizing: border-box; position: absolute; left: 3%; top: 13%; height: 66%; width: 90%; display: flex; flex-direction: column; align-items: flex-start; justify-content: space-evenly" align="left">




<!-- .element: style="font-size: 24px" -->
- C/C++ Runtime
- Windows API
	- Win32 API
	- Native API
	- More undocumented APIs
- If time permits:
	- Component Object Model 
	- Common Language Runtime
	- The Windows Runtime


</div>

<style>
.horizontal_dotted_line{
  border-bottom: 2px dotted #62ff62;
}
} 
</style>

<div class="horizontal_dotted_line" style="position: absolute; left: 3%; top: 94%; height: 0%; width: 94%; display: flex; flex-direction: column; align-items: center; justify-content: center" >

</div>

<div class="" style="padding: 0 30px; box-sizing: border-box; position: absolute; left: 0%; top: 64%; height: 30%; width: 100%; display: flex; flex-direction: column; align-items: flex-start; justify-content: flex-end" align="left">


</div>

<div class="" style="position: absolute; left: 0%; top: 94%; height: 6%; width: 100%; display: flex; flex-direction: column; align-items: center; justify-content: center" >


###### ¬© 2024 Ch0nky LTD<!-- .element: style="font-weight: 300, color" -->
</div>
</div>
</div></script></section><section  data-markdown><script type="text/template"><!-- .slide: class="drop" -->
<div class="" style="position: absolute; left: 0px; top: 0px; height: 540px; width: 960px; min-height: 540px; display: flex; flex-direction: column; align-items: center; justify-content: center" absolute="true">

<style> 
font-family: Consolas,monaco,monospace !important; 
</style>

<div class="" style="background: linear-gradient(#0a0b0a, #1d231d); position: absolute; left: 0%; top: 0%; height: 100%; width: 100%; display: flex; flex-direction: column; align-items: center; justify-content: center" >

<div class="has-light-background" style="background-color: #62ff62; padding: 0 20px; box-sizing: border-box; position: absolute; left: 0%; top: 0%; height: 10%; width: 100%; display: flex; flex-direction: column; align-items: flex-start; justify-content: space-evenly" align="left">

 <div class="block">

#### Ghidra

</div>


</div>
<div class="" style="padding: 5px 15px; box-sizing: border-box; position: absolute; left: 3%; top: 13%; height: 66%; width: 90%; display: flex; flex-direction: column; align-items: flex-start; justify-content: space-evenly" align="left">




<!-- .element: style="font-size: 24px" -->
- Interactive 
Disassembler
- Has a decompiler 
- Other tools useful for reverse engineering that we will cover another time
- Developed by the NSA. 
- It is free, and fully open source!
- The alternative is IDA  (interactive 
Disassembler
) that costs ~$10k
	- Update‚Ä¶ now it is only 5k a year but you only get it so long as you pay for it.Shout out to Hex-Rays for putting a 5MB maximum on 
binaries for students
, and going the Adobe cloud route for SAAS.  -_-...
- Let‚Äôs use Ghidra to take a look at what our compiler produced!


</div>

<style>
.horizontal_dotted_line{
  border-bottom: 2px dotted #62ff62;
}
} 
</style>

<div class="horizontal_dotted_line" style="position: absolute; left: 3%; top: 94%; height: 0%; width: 94%; display: flex; flex-direction: column; align-items: center; justify-content: center" >

</div>

<div class="" style="padding: 0 30px; box-sizing: border-box; position: absolute; left: 0%; top: 64%; height: 30%; width: 100%; display: flex; flex-direction: column; align-items: flex-start; justify-content: flex-end" align="left">


</div>

<div class="" style="position: absolute; left: 0%; top: 94%; height: 6%; width: 100%; display: flex; flex-direction: column; align-items: center; justify-content: center" >


###### ¬© 2024 Ch0nky LTD<!-- .element: style="font-weight: 300, color" -->
</div>
</div>
</div></script></section><section  data-markdown><script type="text/template"><!-- .slide: class="drop" -->
<div class="" style="position: absolute; left: 0px; top: 0px; height: 540px; width: 960px; min-height: 540px; display: flex; flex-direction: column; align-items: center; justify-content: center" absolute="true">

<style> 
font-family: Consolas,monaco,monospace !important; 
</style>

<div class="" style="background: linear-gradient(#0a0b0a, #1d231d); position: absolute; left: 0%; top: 0%; height: 100%; width: 100%; display: flex; flex-direction: column; align-items: center; justify-content: center" >


<div class="" style="position: absolute; left: 5%; top: 13%; height: 66%; width: 90%; display: flex; flex-direction: column; align-items: center; justify-content: center" align="center">

## <span style="color:#62ff62">
 ## Demo 0: Hello world</span>
</div>

<style>
.horizontal_dotted_line{
  border-bottom: 2px dotted #62ff62;
}
} 
</style>

<div class="horizontal_dotted_line" style="position: absolute; left: 3%; top: 94%; height: 0%; width: 94%; display: flex; flex-direction: column; align-items: center; justify-content: center" >

</div>

<div class="" style="padding: 0 30px; box-sizing: border-box; position: absolute; left: 0%; top: 64%; height: 30%; width: 100%; display: flex; flex-direction: column; align-items: flex-start; justify-content: flex-end" align="left">


</div>

<div class="" style="position: absolute; left: 0%; top: 94%; height: 6%; width: 100%; display: flex; flex-direction: column; align-items: center; justify-content: center" >

###### ¬© 2024 Ch0nky LTD<!-- .element: style="font-weight: 300" -->
</div>
</div>
</div></script></section><section  data-markdown><script type="text/template"><!-- .slide: class="drop" -->
<div class="" style="position: absolute; left: 0px; top: 0px; height: 540px; width: 960px; min-height: 540px; display: flex; flex-direction: column; align-items: center; justify-content: center" absolute="true">

<style> 
font-family: Consolas,monaco,monospace !important; 
</style>

<div class="" style="background: linear-gradient(#0a0b0a, #1d231d); position: absolute; left: 0%; top: 0%; height: 100%; width: 100%; display: flex; flex-direction: column; align-items: center; justify-content: center" >

<div class="has-light-background" style="background-color: #62ff62; padding: 0 20px; box-sizing: border-box; position: absolute; left: 0%; top: 0%; height: 10%; width: 100%; display: flex; flex-direction: column; align-items: flex-start; justify-content: space-evenly" align="left">

 <div class="block">

#### What exactly just happened?

</div>


</div>
<div class="" style="padding: 5px 15px; box-sizing: border-box; position: absolute; left: 3%; top: 13%; height: 66%; width: 90%; display: flex; flex-direction: column; align-items: flex-start; justify-content: space-evenly" align="left">




<!-- .element: style="font-size: 24px" -->
- What does gcc/g++/zig cc/clang/cl.exe actually do to our source code files?
- Compiling 
- Linking 


</div>

<style>
.horizontal_dotted_line{
  border-bottom: 2px dotted #62ff62;
}
} 
</style>

<div class="horizontal_dotted_line" style="position: absolute; left: 3%; top: 94%; height: 0%; width: 94%; display: flex; flex-direction: column; align-items: center; justify-content: center" >

</div>

<div class="" style="padding: 0 30px; box-sizing: border-box; position: absolute; left: 0%; top: 64%; height: 30%; width: 100%; display: flex; flex-direction: column; align-items: flex-start; justify-content: flex-end" align="left">


</div>

<div class="" style="position: absolute; left: 0%; top: 94%; height: 6%; width: 100%; display: flex; flex-direction: column; align-items: center; justify-content: center" >


###### ¬© 2024 Ch0nky LTD<!-- .element: style="font-weight: 300, color" -->
</div>
</div>
</div></script></section><section  data-markdown><script type="text/template"><!-- .slide: class="drop" -->
<div class="" style="position: absolute; left: 0px; top: 0px; height: 540px; width: 960px; min-height: 540px; display: flex; flex-direction: column; align-items: center; justify-content: center" absolute="true">

<style> 
font-family: Consolas,monaco,monospace !important; 
</style>

<div class="" style="background: linear-gradient(#0a0b0a, #1d231d); position: absolute; left: 0%; top: 0%; height: 100%; width: 100%; display: flex; flex-direction: column; align-items: center; justify-content: center" >

<div class="has-light-background" style="background-color: #62ff62; padding: 0 20px; box-sizing: border-box; position: absolute; left: 0%; top: 0%; height: 10%; width: 100%; display: flex; flex-direction: column; align-items: flex-start; justify-content: space-evenly" align="left">

 <div class="block">

#### Converting Text Programs into Executables	

</div>


</div>
<div class="" style="padding: 5px 15px; box-sizing: border-box; position: absolute; left: 3%; top: 13%; height: 66%; width: 90%; display: flex; flex-direction: column; align-items: flex-start; justify-content: space-evenly" align="left">




<!-- .element: style="font-size: 24px" -->
- What is a C/C++ compiler toolchain responsible for? Converting text (code) into an application that a computer can run! 
- This is 
accomplished
 with two operations. 
- Compiling: 
- Linking:


</div>

<style>
.horizontal_dotted_line{
  border-bottom: 2px dotted #62ff62;
}
} 
</style>

<div class="horizontal_dotted_line" style="position: absolute; left: 3%; top: 94%; height: 0%; width: 94%; display: flex; flex-direction: column; align-items: center; justify-content: center" >

</div>

<div class="" style="padding: 0 30px; box-sizing: border-box; position: absolute; left: 0%; top: 64%; height: 30%; width: 100%; display: flex; flex-direction: column; align-items: flex-start; justify-content: flex-end" align="left">


</div>

<div class="" style="position: absolute; left: 0%; top: 94%; height: 6%; width: 100%; display: flex; flex-direction: column; align-items: center; justify-content: center" >


###### ¬© 2024 Ch0nky LTD<!-- .element: style="font-weight: 300, color" -->
</div>
</div>
</div></script></section><section  data-markdown><script type="text/template"><!-- .slide: class="drop" -->
<div class="" style="position: absolute; left: 0px; top: 0px; height: 540px; width: 960px; min-height: 540px; display: flex; flex-direction: column; align-items: center; justify-content: center" absolute="true">

<style> 
font-family: Consolas,monaco,monospace !important; 
</style>

<div class="" style="background: linear-gradient(#0a0b0a, #1d231d); position: absolute; left: 0%; top: 0%; height: 100%; width: 100%; display: flex; flex-direction: column; align-items: center; justify-content: center" >

<div class="has-light-background" style="background-color: #62ff62; padding: 0 20px; box-sizing: border-box; position: absolute; left: 0%; top: 0%; height: 10%; width: 100%; display: flex; flex-direction: column; align-items: flex-start; justify-content: space-evenly" align="left">

 <div class="block">

#### Compiling: Seriously oversimplified  

</div>


</div>
<div class="" style="padding: 5px 15px; box-sizing: border-box; position: absolute; left: 3%; top: 13%; height: 66%; width: 90%; display: flex; flex-direction: column; align-items: flex-start; justify-content: space-evenly" align="left">




<!-- .element: style="font-size: 24px" -->
- Convert text file into an intermediate file called an 
object file
	- Object files contain assembled code! 
	- If you are using LLVM, this is a little more complicated
- The compiler evaluates ‚Äúpreprocesses‚Äù steps
- Constructs an abstract 
syntax
 tree from our code
- From there it can actually generate machine code that the CPU will execute using its backend assembler 
- It also creates a location to store constant data 
- The end result of this stage are ‚ÄúObject files‚Äù

</div>

<style>
.horizontal_dotted_line{
  border-bottom: 2px dotted #62ff62;
}
} 
</style>

<div class="horizontal_dotted_line" style="position: absolute; left: 3%; top: 94%; height: 0%; width: 94%; display: flex; flex-direction: column; align-items: center; justify-content: center" >

</div>

<div class="" style="padding: 0 30px; box-sizing: border-box; position: absolute; left: 0%; top: 64%; height: 30%; width: 100%; display: flex; flex-direction: column; align-items: flex-start; justify-content: flex-end" align="left">


</div>

<div class="" style="position: absolute; left: 0%; top: 94%; height: 6%; width: 100%; display: flex; flex-direction: column; align-items: center; justify-content: center" >


###### ¬© 2024 Ch0nky LTD<!-- .element: style="font-weight: 300, color" -->
</div>
</div>
</div></script></section><section  data-markdown><script type="text/template"><!-- .slide: class="drop" -->
<div class="" style="position: absolute; left: 0px; top: 0px; height: 540px; width: 960px; min-height: 540px; display: flex; flex-direction: column; align-items: center; justify-content: center" absolute="true">

<style> 
font-family: Consolas,monaco,monospace !important; 
</style>

<div class="" style="background: linear-gradient(#0a0b0a, #1d231d); position: absolute; left: 0%; top: 0%; height: 100%; width: 100%; display: flex; flex-direction: column; align-items: center; justify-content: center" >

<div class="has-light-background" style="background-color: #62ff62; padding: 0 20px; box-sizing: border-box; position: absolute; left: 0%; top: 0%; height: 10%; width: 100%; display: flex; flex-direction: column; align-items: flex-start; justify-content: space-evenly" align="left">

 <div class="block">

#### Linking: Seriously oversimplified 

</div>


</div>
<div class="" style="padding: 5px 15px; box-sizing: border-box; position: absolute; left: 3%; top: 13%; height: 66%; width: 90%; display: flex; flex-direction: column; align-items: flex-start; justify-content: space-evenly" align="left">




<!-- .element: style="font-size: 24px" -->
- Once we compile source files, we need to ‚Äúlink‚Äù the binary 
- The linker finds where each symbol and function is, and links them 
together!
	- Ie:  the linker replaces  the references to undefined symbols with the correct addresses
- This is an attractive feature, as if there is lots of code reuse across multiple binaries, we can store the 
referenced
 code in a 
library
- There are multiple ways to link against external code 

</div>

<style>
.horizontal_dotted_line{
  border-bottom: 2px dotted #62ff62;
}
} 
</style>

<div class="horizontal_dotted_line" style="position: absolute; left: 3%; top: 94%; height: 0%; width: 94%; display: flex; flex-direction: column; align-items: center; justify-content: center" >

</div>

<div class="" style="padding: 0 30px; box-sizing: border-box; position: absolute; left: 0%; top: 64%; height: 30%; width: 100%; display: flex; flex-direction: column; align-items: flex-start; justify-content: flex-end" align="left">


</div>

<div class="" style="position: absolute; left: 0%; top: 94%; height: 6%; width: 100%; display: flex; flex-direction: column; align-items: center; justify-content: center" >


###### ¬© 2024 Ch0nky LTD<!-- .element: style="font-weight: 300, color" -->
</div>
</div>
</div></script></section><section  data-markdown><script type="text/template"><!-- .slide: class="drop" -->
<div class="" style="position: absolute; left: 0px; top: 0px; height: 540px; width: 960px; min-height: 540px; display: flex; flex-direction: column; align-items: center; justify-content: center" absolute="true">

<style> 
font-family: Consolas,monaco,monospace !important; 
</style>

<div class="" style="background: linear-gradient(#0a0b0a, #1d231d); position: absolute; left: 0%; top: 0%; height: 100%; width: 100%; display: flex; flex-direction: column; align-items: center; justify-content: center" >

<div class="has-light-background" style="background-color: #62ff62; padding: 0 20px; box-sizing: border-box; position: absolute; left: 0%; top: 0%; height: 10%; width: 100%; display: flex; flex-direction: column; align-items: flex-start; justify-content: space-evenly" align="left">

 <div class="block">

#### Linking 

</div>


</div>
<div class="" style="padding: 5px 15px; box-sizing: border-box; position: absolute; left: 3%; top: 13%; height: 66%; width: 90%; display: flex; flex-direction: column; align-items: flex-start; justify-content: space-evenly" align="left">




<!-- .element: style="font-size: 24px" -->
- Static Linking: The external code is directly 
embedded
 in 
your final executable. This can be useful if you are unsure if the user running your code will have the dependencies!
- Dynamic Linking: The reference to the external library is set in your binary, and at runtime, it loads the external library! This gives you smaller binaries, and allows for lots of code reuse!
- I will quiz you on this.


</div>

<style>
.horizontal_dotted_line{
  border-bottom: 2px dotted #62ff62;
}
} 
</style>

<div class="horizontal_dotted_line" style="position: absolute; left: 3%; top: 94%; height: 0%; width: 94%; display: flex; flex-direction: column; align-items: center; justify-content: center" >

</div>

<div class="" style="padding: 0 30px; box-sizing: border-box; position: absolute; left: 0%; top: 64%; height: 30%; width: 100%; display: flex; flex-direction: column; align-items: flex-start; justify-content: flex-end" align="left">


</div>

<div class="" style="position: absolute; left: 0%; top: 94%; height: 6%; width: 100%; display: flex; flex-direction: column; align-items: center; justify-content: center" >


###### ¬© 2024 Ch0nky LTD<!-- .element: style="font-weight: 300, color" -->
</div>
</div>
</div></script></section><section  data-markdown><script type="text/template"><!-- .slide: class="drop" -->
<div class="" style="position: absolute; left: 0px; top: 0px; height: 540px; width: 960px; min-height: 540px; display: flex; flex-direction: column; align-items: center; justify-content: center" absolute="true">

<style> 
font-family: Consolas,monaco,monospace !important; 
</style>

<div class="" style="background: linear-gradient(#0a0b0a, #1d231d); position: absolute; left: 0%; top: 0%; height: 100%; width: 100%; display: flex; flex-direction: column; align-items: center; justify-content: center" >

<div class="has-light-background" style="background-color: #62ff62; padding: 0 20px; box-sizing: border-box; position: absolute; left: 0%; top: 0%; height: 10%; width: 100%; display: flex; flex-direction: column; align-items: flex-start; justify-content: space-evenly" align="left">

 <div class="block">

#### Dynamic Link Libraries (DLLS)	

</div>


</div>
<div class="" style="padding: 5px 15px; box-sizing: border-box; position: absolute; left: 3%; top: 13%; height: 66%; width: 90%; display: flex; flex-direction: column; align-items: flex-start; justify-content: space-evenly" align="left">




<!-- .element: style="font-size: 24px" -->
- DLLs are analogous to Linux Shared Objects (SOs)
- They are portable executables that contain exported, callable functions that can be dynamically loaded at run time. 
- Some notable ones being 
- NTDLL.dll: core functionality for talking with the kernel
- kernel32.dll (one of the API subsystem libraries)
- Advapi.dll (another one of the API subsystem libraries)l
- Msvcrt.dll (c runtime libraries)


</div>

<style>
.horizontal_dotted_line{
  border-bottom: 2px dotted #62ff62;
}
} 
</style>

<div class="horizontal_dotted_line" style="position: absolute; left: 3%; top: 94%; height: 0%; width: 94%; display: flex; flex-direction: column; align-items: center; justify-content: center" >

</div>

<div class="" style="padding: 0 30px; box-sizing: border-box; position: absolute; left: 0%; top: 64%; height: 30%; width: 100%; display: flex; flex-direction: column; align-items: flex-start; justify-content: flex-end" align="left">


</div>

<div class="" style="position: absolute; left: 0%; top: 94%; height: 6%; width: 100%; display: flex; flex-direction: column; align-items: center; justify-content: center" >


###### ¬© 2024 Ch0nky LTD<!-- .element: style="font-weight: 300, color" -->
</div>
</div>
</div></script></section><section  data-markdown><script type="text/template"><!-- .slide: class="drop" -->
<div class="" style="position: absolute; left: 0px; top: 0px; height: 540px; width: 960px; min-height: 540px; display: flex; flex-direction: column; align-items: center; justify-content: center" absolute="true">

<style> 
font-family: Consolas,monaco,monospace !important; 
</style>

<div class="" style="background: linear-gradient(#0a0b0a, #1d231d); position: absolute; left: 0%; top: 0%; height: 100%; width: 100%; display: flex; flex-direction: column; align-items: center; justify-content: center" >

<div class="has-light-background" style="background-color: #62ff62; padding: 0 20px; box-sizing: border-box; position: absolute; left: 0%; top: 0%; height: 10%; width: 100%; display: flex; flex-direction: column; align-items: flex-start; justify-content: space-evenly" align="left">

 <div class="block">

#### Dynamic Linking 

</div>


</div>
<div class="" style="padding: 5px 15px; box-sizing: border-box; position: absolute; left: 3%; top: 13%; height: 66%; width: 90%; display: flex; flex-direction: column; align-items: flex-start; justify-content: space-evenly" align="left">




<!-- .element: style="font-size: 24px" -->
- Implicit Linking: 
The program declares in the binary that it wants the OS‚Äôs PE Loader to resolve it‚Äôs dependencies
- If the PE loader cannot find the dependency, the program exits. 
- Explicit Linking:
 The programer explicitly loads the 
dependency
 at run time, and if it is unable to find the library, it can choose how to respond


</div>

<style>
.horizontal_dotted_line{
  border-bottom: 2px dotted #62ff62;
}
} 
</style>

<div class="horizontal_dotted_line" style="position: absolute; left: 3%; top: 94%; height: 0%; width: 94%; display: flex; flex-direction: column; align-items: center; justify-content: center" >

</div>

<div class="" style="padding: 0 30px; box-sizing: border-box; position: absolute; left: 0%; top: 64%; height: 30%; width: 100%; display: flex; flex-direction: column; align-items: flex-start; justify-content: flex-end" align="left">


</div>

<div class="" style="position: absolute; left: 0%; top: 94%; height: 6%; width: 100%; display: flex; flex-direction: column; align-items: center; justify-content: center" >


###### ¬© 2024 Ch0nky LTD<!-- .element: style="font-weight: 300, color" -->
</div>
</div>
</div></script></section><section  data-markdown><script type="text/template"><!-- .slide: class="drop" -->
<div class="" style="position: absolute; left: 0px; top: 0px; height: 540px; width: 960px; min-height: 540px; display: flex; flex-direction: column; align-items: center; justify-content: center" absolute="true">

<style> 
font-family: Consolas,monaco,monospace !important; 
</style>

<div class="" style="background: linear-gradient(#0a0b0a, #1d231d); position: absolute; left: 0%; top: 0%; height: 100%; width: 100%; display: flex; flex-direction: column; align-items: center; justify-content: center" >

<div class="has-light-background" style="background-color: #62ff62; padding: 0 20px; box-sizing: border-box; position: absolute; left: 0%; top: 0%; height: 10%; width: 100%; display: flex; flex-direction: column; align-items: flex-start; justify-content: space-evenly" align="left">

 <div class="block">

#### Compiling and Linking 

</div>


</div>
<div class="" style="padding: 5px 15px; box-sizing: border-box; position: absolute; left: 3%; top: 13%; height: 66%; width: 90%; display: flex; flex-direction: column; align-items: flex-start; justify-content: space-evenly" align="left">




<!-- .element: style="font-size: 24px" -->
- Compiler 
front ends
 like gcc/g++/clang/zig perform compilation and linking in 1 step
- You can pass options to the linker
- You can direct the linker to link against a dll named DllName with  `-lDllName`
- Because most binaries use Kernel32.dll, it is usually automatically  linked against 

</div>

<style>
.horizontal_dotted_line{
  border-bottom: 2px dotted #62ff62;
}
} 
</style>

<div class="horizontal_dotted_line" style="position: absolute; left: 3%; top: 94%; height: 0%; width: 94%; display: flex; flex-direction: column; align-items: center; justify-content: center" >

</div>

<div class="" style="padding: 0 30px; box-sizing: border-box; position: absolute; left: 0%; top: 64%; height: 30%; width: 100%; display: flex; flex-direction: column; align-items: flex-start; justify-content: flex-end" align="left">


</div>

<div class="" style="position: absolute; left: 0%; top: 94%; height: 6%; width: 100%; display: flex; flex-direction: column; align-items: center; justify-content: center" >


###### ¬© 2024 Ch0nky LTD<!-- .element: style="font-weight: 300, color" -->
</div>
</div>
</div></script></section><section  data-markdown><script type="text/template"><!-- .slide: class="drop" -->
<div class="" style="position: absolute; left: 0px; top: 0px; height: 540px; width: 960px; min-height: 540px; display: flex; flex-direction: column; align-items: center; justify-content: center" absolute="true">

<style> 
font-family: Consolas,monaco,monospace !important; 
</style>

<div class="" style="background: linear-gradient(#0a0b0a, #1d231d); position: absolute; left: 0%; top: 0%; height: 100%; width: 100%; display: flex; flex-direction: column; align-items: center; justify-content: center" >

<div class="has-light-background" style="background-color: #62ff62; padding: 0 20px; box-sizing: border-box; position: absolute; left: 0%; top: 0%; height: 10%; width: 100%; display: flex; flex-direction: column; align-items: flex-start; justify-content: space-evenly" align="left">

 <div class="block">

#### Interacting with the Windows OS

</div>


</div>
<div class="" style="padding: 5px 15px; box-sizing: border-box; position: absolute; left: 3%; top: 13%; height: 66%; width: 90%; display: flex; flex-direction: column; align-items: flex-start; justify-content: space-evenly" align="left">




<!-- .element: style="font-size: 24px" -->
- Windows API functions (win32): Documented, callable functions in the Windows API. For example, MessageBox, CreateFile, GetMessage
- Native system services (sys calls): Undocumented (officially) underlying serivices in the OS that are callable from user mdode. For example 
	- NtAllocateVirtualMemory is the internal service used for 
VirtualAlloc
	- NtCreateUserProcess is the internal service used by CreateProcess
- Kernel support 
functions: functions inside the Windows OS that can only be called from in kernel mode

</div>

<style>
.horizontal_dotted_line{
  border-bottom: 2px dotted #62ff62;
}
} 
</style>

<div class="horizontal_dotted_line" style="position: absolute; left: 3%; top: 94%; height: 0%; width: 94%; display: flex; flex-direction: column; align-items: center; justify-content: center" >

</div>

<div class="" style="padding: 0 30px; box-sizing: border-box; position: absolute; left: 0%; top: 64%; height: 30%; width: 100%; display: flex; flex-direction: column; align-items: flex-start; justify-content: flex-end" align="left">


</div>

<div class="" style="position: absolute; left: 0%; top: 94%; height: 6%; width: 100%; display: flex; flex-direction: column; align-items: center; justify-content: center" >


###### ¬© 2024 Ch0nky LTD<!-- .element: style="font-weight: 300, color" -->
</div>
</div>
</div></script></section><section  data-markdown><script type="text/template"><!-- .slide: class="drop" -->
<div class="" style="position: absolute; left: 0px; top: 0px; height: 540px; width: 960px; min-height: 540px; display: flex; flex-direction: column; align-items: center; justify-content: center" absolute="true">

<style> 
font-family: Consolas,monaco,monospace !important; 
</style>

<div class="" style="background: linear-gradient(#0a0b0a, #1d231d); position: absolute; left: 0%; top: 0%; height: 100%; width: 100%; display: flex; flex-direction: column; align-items: center; justify-content: center" >

<div class="has-light-background" style="background-color: #62ff62; padding: 0 20px; box-sizing: border-box; position: absolute; left: 0%; top: 0%; height: 10%; width: 100%; display: flex; flex-direction: column; align-items: flex-start; justify-content: space-evenly" align="left">

 <div class="block">

#### NtDLL.dll	

</div>


</div>
<div class="" style="padding: 5px 15px; box-sizing: border-box; position: absolute; left: 3%; top: 13%; height: 66%; width: 90%; display: flex; flex-direction: column; align-items: flex-start; justify-content: space-evenly" align="left">




<!-- .element: style="font-size: 24px" -->
- Implements the Windows Native API. This is the 
lowest
 layer of code that is still Userland code. 
- It is used to communicate with the 
kernel
 for system call invocation. 
- NtDLL also imp
lements the Heap Manager, the (executable) Image 
loader
 and some of userland thread pools. Every process loads this DLL in the same location in memory! 


</div>

<style>
.horizontal_dotted_line{
  border-bottom: 2px dotted #62ff62;
}
} 
</style>

<div class="horizontal_dotted_line" style="position: absolute; left: 3%; top: 94%; height: 0%; width: 94%; display: flex; flex-direction: column; align-items: center; justify-content: center" >

</div>

<div class="" style="padding: 0 30px; box-sizing: border-box; position: absolute; left: 0%; top: 64%; height: 30%; width: 100%; display: flex; flex-direction: column; align-items: flex-start; justify-content: flex-end" align="left">


</div>

<div class="" style="position: absolute; left: 0%; top: 94%; height: 6%; width: 100%; display: flex; flex-direction: column; align-items: center; justify-content: center" >


###### ¬© 2024 Ch0nky LTD<!-- .element: style="font-weight: 300, color" -->
</div>
</div>
</div></script></section><section  data-markdown><script type="text/template"><!-- .slide: class="drop" -->
<div class="" style="position: absolute; left: 0px; top: 0px; height: 540px; width: 960px; min-height: 540px; display: flex; flex-direction: column; align-items: center; justify-content: center" absolute="true">

<style> 
font-family: Consolas,monaco,monospace !important; 
</style>

<div class="" style="background: linear-gradient(#0a0b0a, #1d231d); position: absolute; left: 0%; top: 0%; height: 100%; width: 100%; display: flex; flex-direction: column; align-items: center; justify-content: center" >

<div class="has-light-background" style="background-color: #62ff62; padding: 0 20px; box-sizing: border-box; position: absolute; left: 0%; top: 0%; height: 10%; width: 100%; display: flex; flex-direction: column; align-items: flex-start; justify-content: space-evenly" align="left">

 <div class="block">

#### Kernel32.dll

</div>


</div>
<div class="" style="padding: 5px 15px; box-sizing: border-box; position: absolute; left: 3%; top: 13%; height: 66%; width: 90%; display: flex; flex-direction: column; align-items: flex-start; justify-content: space-evenly" align="left">




<!-- .element: style="font-size: 24px" -->
- Contains (more or less) the same functionality as NtDLL!
- It exposes basic operations such as 
memory management, input/output (I/O) operations, process and thread creation, and synchronization functions
- It can be thought of as a 
compatibility
 layer, as it almost always calls directly into NTDLL.dll
- This is to maintain backwards compatibility‚Äì where the Win32 API rarely changes, but the Native API changes from release to release.



</div>

<style>
.horizontal_dotted_line{
  border-bottom: 2px dotted #62ff62;
}
} 
</style>

<div class="horizontal_dotted_line" style="position: absolute; left: 3%; top: 94%; height: 0%; width: 94%; display: flex; flex-direction: column; align-items: center; justify-content: center" >

</div>

<div class="" style="padding: 0 30px; box-sizing: border-box; position: absolute; left: 0%; top: 64%; height: 30%; width: 100%; display: flex; flex-direction: column; align-items: flex-start; justify-content: flex-end" align="left">


</div>

<div class="" style="position: absolute; left: 0%; top: 94%; height: 6%; width: 100%; display: flex; flex-direction: column; align-items: center; justify-content: center" >


###### ¬© 2024 Ch0nky LTD<!-- .element: style="font-weight: 300, color" -->
</div>
</div>
</div></script></section><section  data-markdown><script type="text/template"><!-- .slide: class="drop" -->
<div class="" style="position: absolute; left: 0px; top: 0px; height: 540px; width: 960px; min-height: 540px; display: flex; flex-direction: column; align-items: center; justify-content: center" absolute="true">

<style> 
font-family: Consolas,monaco,monospace !important; 
</style>

<div class="" style="background: linear-gradient(#0a0b0a, #1d231d); position: absolute; left: 0%; top: 0%; height: 100%; width: 100%; display: flex; flex-direction: column; align-items: center; justify-content: center" >

<div class="has-light-background" style="background-color: #62ff62; padding: 0 20px; box-sizing: border-box; position: absolute; left: 0%; top: 0%; height: 10%; width: 100%; display: flex; flex-direction: column; align-items: flex-start; justify-content: space-evenly" align="left">

 <div class="block">

#### Win32 API	

</div>


</div>
<div class="" style="padding: 5px 15px; box-sizing: border-box; position: absolute; left: 3%; top: 13%; height: 66%; width: 90%; display: flex; flex-direction: column; align-items: flex-start; justify-content: space-evenly" align="left">




<!-- .element: style="font-size: 24px" -->
- We will mostly leverage documented functions from the Windows API- The function definitions are well documented
- Reading that documentation however, is a skill that must be learned
- Sometimes, we need more control over what we are trying to accomplish, and will leverage undocumented functions stored in NTDLL.dll


</div>

<style>
.horizontal_dotted_line{
  border-bottom: 2px dotted #62ff62;
}
} 
</style>

<div class="horizontal_dotted_line" style="position: absolute; left: 3%; top: 94%; height: 0%; width: 94%; display: flex; flex-direction: column; align-items: center; justify-content: center" >

</div>

<div class="" style="padding: 0 30px; box-sizing: border-box; position: absolute; left: 0%; top: 64%; height: 30%; width: 100%; display: flex; flex-direction: column; align-items: flex-start; justify-content: flex-end" align="left">


</div>

<div class="" style="position: absolute; left: 0%; top: 94%; height: 6%; width: 100%; display: flex; flex-direction: column; align-items: center; justify-content: center" >


###### ¬© 2024 Ch0nky LTD<!-- .element: style="font-weight: 300, color" -->
</div>
</div>
</div></script></section><section  data-markdown><script type="text/template"><!-- .slide: class="drop" -->
<div class="" style="position: absolute; left: 0px; top: 0px; height: 540px; width: 960px; min-height: 540px; display: flex; flex-direction: column; align-items: center; justify-content: center" absolute="true">

<style> 
font-family: Consolas,monaco,monospace !important; 
</style>

<div class="" style="background: linear-gradient(#0a0b0a, #1d231d); position: absolute; left: 0%; top: 0%; height: 100%; width: 100%; display: flex; flex-direction: column; align-items: center; justify-content: center" >

<div class="has-light-background" style="background-color: #62ff62; padding: 0 20px; box-sizing: border-box; position: absolute; left: 0%; top: 0%; height: 10%; width: 100%; display: flex; flex-direction: column; align-items: flex-start; justify-content: space-evenly" align="left">

 <div class="block">

#### Highlight of Win32 Data Types

</div>


</div>
<div class="" style="padding: 5px 15px; box-sizing: border-box; position: absolute; left: 3%; top: 13%; height: 66%; width: 90%; display: flex; flex-direction: column; align-items: flex-start; justify-content: space-evenly" align="left">




<!-- .element: style="font-size: 24px" -->
- WORD: 16-bit unsigned integer
- DWORD (Double word): 32-bit unsigned integer
- QWORD (Quad word): 64-bit unsigned integer
- LPCSTR: Pointer to a c string (null terminated)
	- Each character is a char
- LPCWSTR:  Pointer to wide character c string (double null terminated)
	- Each character is a wchar
- BYTE: unsigned char
- LPVOID: Pointer to any type
- HANDLE: Handle object
- RTFM as needed: 
https://docs.microsoft.com/en-us/windows/win32/winprog/windows-data-types

</div>

<style>
.horizontal_dotted_line{
  border-bottom: 2px dotted #62ff62;
}
} 
</style>

<div class="horizontal_dotted_line" style="position: absolute; left: 3%; top: 94%; height: 0%; width: 94%; display: flex; flex-direction: column; align-items: center; justify-content: center" >

</div>

<div class="" style="padding: 0 30px; box-sizing: border-box; position: absolute; left: 0%; top: 64%; height: 30%; width: 100%; display: flex; flex-direction: column; align-items: flex-start; justify-content: flex-end" align="left">


</div>

<div class="" style="position: absolute; left: 0%; top: 94%; height: 6%; width: 100%; display: flex; flex-direction: column; align-items: center; justify-content: center" >


###### ¬© 2024 Ch0nky LTD<!-- .element: style="font-weight: 300, color" -->
</div>
</div>
</div></script></section><section  data-markdown><script type="text/template"><!-- .slide: class="drop" -->
<div class="" style="position: absolute; left: 0px; top: 0px; height: 540px; width: 960px; min-height: 540px; display: flex; flex-direction: column; align-items: center; justify-content: center" absolute="true">

<style> 
font-family: Consolas,monaco,monospace !important; 
</style>

<div class="" style="background: linear-gradient(#0a0b0a, #1d231d); position: absolute; left: 0%; top: 0%; height: 100%; width: 100%; display: flex; flex-direction: column; align-items: center; justify-content: center" >

<div class="has-light-background" style="background-color: #62ff62; padding: 0 20px; box-sizing: border-box; position: absolute; left: 0%; top: 0%; height: 10%; width: 100%; display: flex; flex-direction: column; align-items: flex-start; justify-content: space-evenly" align="left">

 <div class="block">

#### Example: Popping a message box

</div>


</div>
<div class="" style="padding: 5px 15px; box-sizing: border-box; position: absolute; left: 3%; top: 13%; height: 66%; width: 90%; display: flex; flex-direction: column; align-items: flex-start; justify-content: space-evenly" align="left">



```c
#include <windows.h>

int main(){
    MessageBoxA(NULL, "Hello there!", "I am a message box!", MB_OK);
    return 0;
}
```

</div>

<style>
.horizontal_dotted_line{
  border-bottom: 2px dotted #62ff62;
}
} 
</style>

<div class="horizontal_dotted_line" style="position: absolute; left: 3%; top: 94%; height: 0%; width: 94%; display: flex; flex-direction: column; align-items: center; justify-content: center" >

</div>

<div class="" style="padding: 0 30px; box-sizing: border-box; position: absolute; left: 0%; top: 64%; height: 30%; width: 100%; display: flex; flex-direction: column; align-items: flex-start; justify-content: flex-end" align="left">


</div>

<div class="" style="position: absolute; left: 0%; top: 94%; height: 6%; width: 100%; display: flex; flex-direction: column; align-items: center; justify-content: center" >


###### ¬© 2024 Ch0nky LTD<!-- .element: style="font-weight: 300, color" -->
</div>
</div>
</div></script></section><section  data-markdown><script type="text/template"><!-- .slide: class="drop" -->
<div class="" style="position: absolute; left: 0px; top: 0px; height: 540px; width: 960px; min-height: 540px; display: flex; flex-direction: column; align-items: center; justify-content: center" absolute="true">

<style> 
font-family: Consolas,monaco,monospace !important; 
</style>

<div class="" style="background: linear-gradient(#0a0b0a, #1d231d); position: absolute; left: 0%; top: 0%; height: 100%; width: 100%; display: flex; flex-direction: column; align-items: center; justify-content: center" >


<div class="" style="position: absolute; left: 5%; top: 13%; height: 66%; width: 90%; display: flex; flex-direction: column; align-items: center; justify-content: center" align="center">

## <span style="color:#62ff62">
 ## Demo: 
Compiling the example and linking against User32.dll</span>
</div>

<style>
.horizontal_dotted_line{
  border-bottom: 2px dotted #62ff62;
}
} 
</style>

<div class="horizontal_dotted_line" style="position: absolute; left: 3%; top: 94%; height: 0%; width: 94%; display: flex; flex-direction: column; align-items: center; justify-content: center" >

</div>

<div class="" style="padding: 0 30px; box-sizing: border-box; position: absolute; left: 0%; top: 64%; height: 30%; width: 100%; display: flex; flex-direction: column; align-items: flex-start; justify-content: flex-end" align="left">


</div>

<div class="" style="position: absolute; left: 0%; top: 94%; height: 6%; width: 100%; display: flex; flex-direction: column; align-items: center; justify-content: center" >

###### ¬© 2024 Ch0nky LTD<!-- .element: style="font-weight: 300" -->
</div>
</div>
</div></script></section><section  data-markdown><script type="text/template"><!-- .slide: class="drop" -->
<div class="" style="position: absolute; left: 0px; top: 0px; height: 540px; width: 960px; min-height: 540px; display: flex; flex-direction: column; align-items: center; justify-content: center" absolute="true">

<style> 
font-family: Consolas,monaco,monospace !important; 
</style>

<div class="" style="background: linear-gradient(#0a0b0a, #1d231d); position: absolute; left: 0%; top: 0%; height: 100%; width: 100%; display: flex; flex-direction: column; align-items: center; justify-content: center" >

<div class="has-light-background" style="background-color: #62ff62; padding: 0 20px; box-sizing: border-box; position: absolute; left: 0%; top: 0%; height: 10%; width: 100%; display: flex; flex-direction: column; align-items: flex-start; justify-content: space-evenly" align="left">

 <div class="block">

#### Reading the docs
</div>


</div>

<div class="" style="position: absolute; left: 3%; top: 13%; height: 87%; width: 45%; display: flex; flex-direction: column; align-items: flex-start; justify-content: flex-start" align="left">

<div class="block">

<!-- .element: style="font-size: 20px" -->
- Debugging your code for 8 hours can save you 5 minutes of reading the docs
	- I myself, routinely don‚Äôt read the documentation and suffer for it. Be better than me. Learn from my mistakes. RTFM
- Example:
https://docs.microsoft.com/en-us/windows/win32/api/winuser/nf-winuser-messageboxa

</div>


</div>

<div class="" style="position: absolute; left: 50%; top: 13%; height: 75%; width: 45%; display: flex; flex-direction: column; align-items: flex-start; justify-content: flex-start" align="left">

<div class="block">

<img src="MalwareCourse/Memes/0x04_slide_42_image.png" alt="" style="width: 300px; object-fit: fill">

<img src="MalwareCourse/Memes/0x04_slide_42_image.png" alt="" style="width: 300px; object-fit: fill">



</div>


</div>

<small>







</small>

<style>
.horizontal_dotted_line{
  border-bottom: 2px dotted #62ff62;
}
} 
</style>

<div class="horizontal_dotted_line" style="position: absolute; left: 3%; top: 94%; height: 0%; width: 94%; display: flex; flex-direction: column; align-items: center; justify-content: center" >

</div>

<div class="" style="padding: 0 30px; box-sizing: border-box; position: absolute; left: 0%; top: 64%; height: 30%; width: 100%; display: flex; flex-direction: column; align-items: flex-start; justify-content: flex-end" align="left">


</div>

<div class="" style="position: absolute; left: 0%; top: 94%; height: 6%; width: 100%; display: flex; flex-direction: column; align-items: center; justify-content: center" >

###### ¬© 2024 Ch0nky LTD<!-- .element: style="font-weight: 300" -->
</div>
</div>
</div></script></section><section  data-markdown><script type="text/template"><!-- .slide: class="drop" -->
<div class="" style="position: absolute; left: 0px; top: 0px; height: 540px; width: 960px; min-height: 540px; display: flex; flex-direction: column; align-items: center; justify-content: center" absolute="true">

<style> 
font-family: Consolas,monaco,monospace !important; 
</style>

<div class="" style="background: linear-gradient(#0a0b0a, #1d231d); position: absolute; left: 0%; top: 0%; height: 100%; width: 100%; display: flex; flex-direction: column; align-items: center; justify-content: center" >

<div class="has-light-background" style="background-color: #62ff62; padding: 0 20px; box-sizing: border-box; position: absolute; left: 0%; top: 0%; height: 10%; width: 100%; display: flex; flex-direction: column; align-items: flex-start; justify-content: space-evenly" align="left">

 <div class="block">

#### Strings in Windows 
</div>


</div>

<div class="" style="position: absolute; left: 3%; top: 13%; height: 87%; width: 45%; display: flex; flex-direction: column; align-items: flex-start; justify-content: flex-start" align="left">

<div class="block">

<!-- .element: style="font-size: 20px" -->
- In C, strings aren‚Äôt official types. They are simply char pointers to data that is null terminated. These strings are typically UTF-8 encoded but not always! On Windows, they are ANSI  
- This is great when we need the memory footprint of strings to be small, but has two problems
- Doesn‚Äôt allow for random access
- Doesn‚Äôt support all characters  (Chinese, Russian...etc)
	- This a problem for us. Why? :-)?
	- `*(x +1) == x[1]

</div>


</div>

<div class="" style="position: absolute; left: 50%; top: 13%; height: 75%; width: 45%; display: flex; flex-direction: column; align-items: flex-start; justify-content: flex-start" align="left">

<div class="block">

<img src="MalwareCourse/Memes/0x04_slide_43_image.png" alt="" style="width: 400px; object-fit: fill">



</div>


</div>

<small>







</small>

<style>
.horizontal_dotted_line{
  border-bottom: 2px dotted #62ff62;
}
} 
</style>

<div class="horizontal_dotted_line" style="position: absolute; left: 3%; top: 94%; height: 0%; width: 94%; display: flex; flex-direction: column; align-items: center; justify-content: center" >

</div>

<div class="" style="padding: 0 30px; box-sizing: border-box; position: absolute; left: 0%; top: 64%; height: 30%; width: 100%; display: flex; flex-direction: column; align-items: flex-start; justify-content: flex-end" align="left">


</div>

<div class="" style="position: absolute; left: 0%; top: 94%; height: 6%; width: 100%; display: flex; flex-direction: column; align-items: center; justify-content: center" >

###### ¬© 2024 Ch0nky LTD<!-- .element: style="font-weight: 300" -->
</div>
</div>
</div></script></section><section  data-markdown><script type="text/template"><!-- .slide: class="drop" -->
<div class="" style="position: absolute; left: 0px; top: 0px; height: 540px; width: 960px; min-height: 540px; display: flex; flex-direction: column; align-items: center; justify-content: center" absolute="true">

<style> 
font-family: Consolas,monaco,monospace !important; 
</style>

<div class="" style="background: linear-gradient(#0a0b0a, #1d231d); position: absolute; left: 0%; top: 0%; height: 100%; width: 100%; display: flex; flex-direction: column; align-items: center; justify-content: center" >

<div class="has-light-background" style="background-color: #62ff62; padding: 0 20px; box-sizing: border-box; position: absolute; left: 0%; top: 0%; height: 10%; width: 100%; display: flex; flex-direction: column; align-items: flex-start; justify-content: space-evenly" align="left">

 <div class="block">

#### Strings in Windows Continued	

</div>


</div>
<div class="" style="padding: 5px 15px; box-sizing: border-box; position: absolute; left: 3%; top: 13%; height: 66%; width: 90%; display: flex; flex-direction: column; align-items: flex-start; justify-content: space-evenly" align="left">




<!-- .element: style="font-size: 24px" -->
- C/C++ runtimes for windows supports both ANSI and UNICODE UTF-16 characters
- It is generally preferable to use UTF-16 characters with a few exceptions 
- Each character set has its own set of strings functions (strlen, strcpy, strcat...etc) and wslen,,wscat...etc for so called wide-character c strings

</div>

<style>
.horizontal_dotted_line{
  border-bottom: 2px dotted #62ff62;
}
} 
</style>

<div class="horizontal_dotted_line" style="position: absolute; left: 3%; top: 94%; height: 0%; width: 94%; display: flex; flex-direction: column; align-items: center; justify-content: center" >

</div>

<div class="" style="padding: 0 30px; box-sizing: border-box; position: absolute; left: 0%; top: 64%; height: 30%; width: 100%; display: flex; flex-direction: column; align-items: flex-start; justify-content: flex-end" align="left">


</div>

<div class="" style="position: absolute; left: 0%; top: 94%; height: 6%; width: 100%; display: flex; flex-direction: column; align-items: center; justify-content: center" >


###### ¬© 2024 Ch0nky LTD<!-- .element: style="font-weight: 300, color" -->
</div>
</div>
</div></script></section><section  data-markdown><script type="text/template"><!-- .slide: class="drop" -->
<div class="" style="position: absolute; left: 0px; top: 0px; height: 540px; width: 960px; min-height: 540px; display: flex; flex-direction: column; align-items: center; justify-content: center" absolute="true">

<style> 
font-family: Consolas,monaco,monospace !important; 
</style>

<div class="" style="background: linear-gradient(#0a0b0a, #1d231d); position: absolute; left: 0%; top: 0%; height: 100%; width: 100%; display: flex; flex-direction: column; align-items: center; justify-content: center" >

<div class="has-light-background" style="background-color: #62ff62; padding: 0 20px; box-sizing: border-box; position: absolute; left: 0%; top: 0%; height: 10%; width: 100%; display: flex; flex-direction: column; align-items: flex-start; justify-content: space-evenly" align="left">

 <div class="block">

#### Expansion macros

</div>


</div>
<div class="" style="padding: 5px 15px; box-sizing: border-box; position: absolute; left: 3%; top: 13%; height: 66%; width: 90%; display: flex; flex-direction: column; align-items: flex-start; justify-content: space-evenly" align="left">




<!-- .element: style="font-size: 24px" -->
- Win32 API has a convenience macro for most functions it defines that require strings as arguments. 
- The suffix will be either an A for ANSI or W for wide character Unicode 
	- For example, GetComputerNameA will return an ANSI string, GetComputerNameW will return a UNICODE string
	- Also, MessageBoxA displays ANSI characters, where as MessageBoxW displays unicode!

</div>

<style>
.horizontal_dotted_line{
  border-bottom: 2px dotted #62ff62;
}
} 
</style>

<div class="horizontal_dotted_line" style="position: absolute; left: 3%; top: 94%; height: 0%; width: 94%; display: flex; flex-direction: column; align-items: center; justify-content: center" >

</div>

<div class="" style="padding: 0 30px; box-sizing: border-box; position: absolute; left: 0%; top: 64%; height: 30%; width: 100%; display: flex; flex-direction: column; align-items: flex-start; justify-content: flex-end" align="left">


</div>

<div class="" style="position: absolute; left: 0%; top: 94%; height: 6%; width: 100%; display: flex; flex-direction: column; align-items: center; justify-content: center" >


###### ¬© 2024 Ch0nky LTD<!-- .element: style="font-weight: 300, color" -->
</div>
</div>
</div></script></section><section  data-markdown><script type="text/template"><!-- .slide: class="drop" -->
<div class="" style="position: absolute; left: 0px; top: 0px; height: 540px; width: 960px; min-height: 540px; display: flex; flex-direction: column; align-items: center; justify-content: center" absolute="true">

<style> 
font-family: Consolas,monaco,monospace !important; 
</style>

<div class="" style="background: linear-gradient(#0a0b0a, #1d231d); position: absolute; left: 0%; top: 0%; height: 100%; width: 100%; display: flex; flex-direction: column; align-items: center; justify-content: center" >

<div class="has-light-background" style="background-color: #62ff62; padding: 0 20px; box-sizing: border-box; position: absolute; left: 0%; top: 0%; height: 10%; width: 100%; display: flex; flex-direction: column; align-items: flex-start; justify-content: space-evenly" align="left">

 <div class="block">

#### TCHAR type

</div>


</div>
<div class="" style="padding: 5px 15px; box-sizing: border-box; position: absolute; left: 3%; top: 13%; height: 66%; width: 90%; display: flex; flex-direction: column; align-items: flex-start; justify-content: space-evenly" align="left">




<!-- .element: style="font-size: 24px" -->
- Similarly, Windows provides the TCHAR macro to expand to either char  or wchar_t type 
- Chars are 1 byte each  ( 8 bits)
- Wchars are 2 bytes each (16 bits)


</div>

<style>
.horizontal_dotted_line{
  border-bottom: 2px dotted #62ff62;
}
} 
</style>

<div class="horizontal_dotted_line" style="position: absolute; left: 3%; top: 94%; height: 0%; width: 94%; display: flex; flex-direction: column; align-items: center; justify-content: center" >

</div>

<div class="" style="padding: 0 30px; box-sizing: border-box; position: absolute; left: 0%; top: 64%; height: 30%; width: 100%; display: flex; flex-direction: column; align-items: flex-start; justify-content: flex-end" align="left">


</div>

<div class="" style="position: absolute; left: 0%; top: 94%; height: 6%; width: 100%; display: flex; flex-direction: column; align-items: center; justify-content: center" >


###### ¬© 2024 Ch0nky LTD<!-- .element: style="font-weight: 300, color" -->
</div>
</div>
</div></script></section><section  data-markdown><script type="text/template"><!-- .slide: class="drop" -->
<div class="" style="position: absolute; left: 0px; top: 0px; height: 540px; width: 960px; min-height: 540px; display: flex; flex-direction: column; align-items: center; justify-content: center" absolute="true">

<style> 
font-family: Consolas,monaco,monospace !important; 
</style>

<div class="" style="background: linear-gradient(#0a0b0a, #1d231d); position: absolute; left: 0%; top: 0%; height: 100%; width: 100%; display: flex; flex-direction: column; align-items: center; justify-content: center" >

<div class="has-light-background" style="background-color: #62ff62; padding: 0 20px; box-sizing: border-box; position: absolute; left: 0%; top: 0%; height: 10%; width: 100%; display: flex; flex-direction: column; align-items: flex-start; justify-content: space-evenly" align="left">

 <div class="block">

#### String literals 

</div>


</div>
<div class="" style="padding: 5px 15px; box-sizing: border-box; position: absolute; left: 3%; top: 13%; height: 66%; width: 90%; display: flex; flex-direction: column; align-items: flex-start; justify-content: space-evenly" align="left">




<!-- .element: style="font-size: 24px" -->
- By default, string literals are ANSI c strings, but by appending an L to the beginning of the literal, the compiler will define it as a wide character string literal 
- If you want it to work for either depending on the encoding of the application,  the TEXT() macro can be used 
- We will talk about this next time when we discuss WinMain vs wWinMain (take a guess at what it is used for :))


</div>

<style>
.horizontal_dotted_line{
  border-bottom: 2px dotted #62ff62;
}
} 
</style>

<div class="horizontal_dotted_line" style="position: absolute; left: 3%; top: 94%; height: 0%; width: 94%; display: flex; flex-direction: column; align-items: center; justify-content: center" >

</div>

<div class="" style="padding: 0 30px; box-sizing: border-box; position: absolute; left: 0%; top: 64%; height: 30%; width: 100%; display: flex; flex-direction: column; align-items: flex-start; justify-content: flex-end" align="left">


</div>

<div class="" style="position: absolute; left: 0%; top: 94%; height: 6%; width: 100%; display: flex; flex-direction: column; align-items: center; justify-content: center" >


###### ¬© 2024 Ch0nky LTD<!-- .element: style="font-weight: 300, color" -->
</div>
</div>
</div></script></section><section  data-markdown><script type="text/template"><!-- .slide: class="drop" -->
<div class="" style="position: absolute; left: 0px; top: 0px; height: 540px; width: 960px; min-height: 540px; display: flex; flex-direction: column; align-items: center; justify-content: center" absolute="true">

<style> 
font-family: Consolas,monaco,monospace !important; 
</style>

<div class="" style="background: linear-gradient(#0a0b0a, #1d231d); position: absolute; left: 0%; top: 0%; height: 100%; width: 100%; display: flex; flex-direction: column; align-items: center; justify-content: center" >

<div class="has-light-background" style="background-color: #62ff62; padding: 0 20px; box-sizing: border-box; position: absolute; left: 0%; top: 0%; height: 10%; width: 100%; display: flex; flex-direction: column; align-items: flex-start; justify-content: space-evenly" align="left">

 <div class="block">

#### General Advice for Strings

</div>


</div>
<div class="" style="padding: 5px 15px; box-sizing: border-box; position: absolute; left: 3%; top: 13%; height: 66%; width: 90%; display: flex; flex-direction: column; align-items: flex-start; justify-content: space-evenly" align="left">




<!-- .element: style="font-size: 20px" -->
- For this class, you are more than welcome to only use the Unicode functions. 
	- In fact, when most versions of Windows call  FunctionA (ANSI), the inputs are converted to unicode and passed to FunctionW (Unicode)
- If your entry point is named main, it will default to ANSI
- If your entry point is named wmain, it will default to Unicode using VisualStudio but since we are using Zig c++ /g++ you  must explicitly pass -municode as a compile flag


</div>

<style>
.horizontal_dotted_line{
  border-bottom: 2px dotted #62ff62;
}
} 
</style>

<div class="horizontal_dotted_line" style="position: absolute; left: 3%; top: 94%; height: 0%; width: 94%; display: flex; flex-direction: column; align-items: center; justify-content: center" >

</div>

<div class="" style="padding: 0 30px; box-sizing: border-box; position: absolute; left: 0%; top: 64%; height: 30%; width: 100%; display: flex; flex-direction: column; align-items: flex-start; justify-content: flex-end" align="left">


</div>

<div class="" style="position: absolute; left: 0%; top: 94%; height: 6%; width: 100%; display: flex; flex-direction: column; align-items: center; justify-content: center" >


###### ¬© 2024 Ch0nky LTD<!-- .element: style="font-weight: 300, color" -->
</div>
</div>
</div></script></section><section  data-markdown><script type="text/template"><!-- .slide: class="drop" -->
<div class="" style="position: absolute; left: 0px; top: 0px; height: 540px; width: 960px; min-height: 540px; display: flex; flex-direction: column; align-items: center; justify-content: center" absolute="true">

<style> 
font-family: Consolas,monaco,monospace !important; 
</style>

<div class="" style="background: linear-gradient(#0a0b0a, #1d231d); position: absolute; left: 0%; top: 0%; height: 100%; width: 100%; display: flex; flex-direction: column; align-items: center; justify-content: center" >

<div class="has-light-background" style="background-color: #62ff62; padding: 0 20px; box-sizing: border-box; position: absolute; left: 0%; top: 0%; height: 10%; width: 100%; display: flex; flex-direction: column; align-items: flex-start; justify-content: space-evenly" align="left">

 <div class="block">

#### General Advice for Strings

</div>


</div>
<div class="" style="padding: 5px 15px; box-sizing: border-box; position: absolute; left: 3%; top: 13%; height: 66%; width: 90%; display: flex; flex-direction: column; align-items: flex-start; justify-content: space-evenly" align="left">




<!-- .element: style="font-size: 20px" -->
- If your entry point is named _tmain it will check whether or not UNICODE is defined
- You may only use one of the following from the standard c++ library:
	- cout/ wcout  (Calling both can lead to undefined behavior) 
	- I personally just stick to printf/wprintf though 
- We will revisit this when we talk about C2 Channels, as this will be a become a bit of a headache.
- For more see 
https://docs.microsoft.com/en-us/windows/win32/learnwin32/working-with-strings


</div>

<style>
.horizontal_dotted_line{
  border-bottom: 2px dotted #62ff62;
}
} 
</style>

<div class="horizontal_dotted_line" style="position: absolute; left: 3%; top: 94%; height: 0%; width: 94%; display: flex; flex-direction: column; align-items: center; justify-content: center" >

</div>

<div class="" style="padding: 0 30px; box-sizing: border-box; position: absolute; left: 0%; top: 64%; height: 30%; width: 100%; display: flex; flex-direction: column; align-items: flex-start; justify-content: flex-end" align="left">


</div>

<div class="" style="position: absolute; left: 0%; top: 94%; height: 6%; width: 100%; display: flex; flex-direction: column; align-items: center; justify-content: center" >


###### ¬© 2024 Ch0nky LTD<!-- .element: style="font-weight: 300, color" -->
</div>
</div>
</div></script></section><section  data-markdown><script type="text/template"><!-- .slide: class="drop" -->
<div class="" style="position: absolute; left: 0px; top: 0px; height: 540px; width: 960px; min-height: 540px; display: flex; flex-direction: column; align-items: center; justify-content: center" absolute="true">

<style> 
font-family: Consolas,monaco,monospace !important; 
</style>

<div class="" style="background: linear-gradient(#0a0b0a, #1d231d); position: absolute; left: 0%; top: 0%; height: 100%; width: 100%; display: flex; flex-direction: column; align-items: center; justify-content: center" >


<div class="" style="position: absolute; left: 5%; top: 13%; height: 66%; width: 90%; display: flex; flex-direction: column; align-items: center; justify-content: center" align="center">

## <span style="color:#62ff62">
#### Next time: More o n 
- DLLs
- compiling /linking 
- x86-64 crash course
- Calling Conventions</span>
</div>

<style>
.horizontal_dotted_line{
  border-bottom: 2px dotted #62ff62;
}
} 
</style>

<div class="horizontal_dotted_line" style="position: absolute; left: 3%; top: 94%; height: 0%; width: 94%; display: flex; flex-direction: column; align-items: center; justify-content: center" >

</div>

<div class="" style="padding: 0 30px; box-sizing: border-box; position: absolute; left: 0%; top: 64%; height: 30%; width: 100%; display: flex; flex-direction: column; align-items: flex-start; justify-content: flex-end" align="left">


</div>

<div class="" style="position: absolute; left: 0%; top: 94%; height: 6%; width: 100%; display: flex; flex-direction: column; align-items: center; justify-content: center" >

###### ¬© 2024 Ch0nky LTD<!-- .element: style="font-weight: 300" -->
</div>
</div>
</div></script></section></div>
    </div>

    <script src="dist/reveal.js"></script>

    <script src="plugin/markdown/markdown.js"></script>
    <script src="plugin/highlight/highlight.js"></script>
    <script src="plugin/zoom/zoom.js"></script>
    <script src="plugin/notes/notes.js"></script>
    <script src="plugin/math/math.js"></script>
	<script src="plugin/mermaid/mermaid.js"></script>
	<script src="plugin/chart/chart.min.js"></script>
	<script src="plugin/chart/plugin.js"></script>
	<script src="plugin/customcontrols/plugin.js"></script>

    <script>
      function extend() {
        var target = {};
        for (var i = 0; i < arguments.length; i++) {
          var source = arguments[i];
          for (var key in source) {
            if (source.hasOwnProperty(key)) {
              target[key] = source[key];
            }
          }
        }
        return target;
      }

	  function isLight(color) {
		let hex = color.replace('#', '');

		// convert #fff => #ffffff
		if(hex.length == 3){
			hex = `${hex[0]}${hex[0]}${hex[1]}${hex[1]}${hex[2]}${hex[2]}`;
		}

		const c_r = parseInt(hex.substr(0, 2), 16);
		const c_g = parseInt(hex.substr(2, 2), 16);
		const c_b = parseInt(hex.substr(4, 2), 16);
		const brightness = ((c_r * 299) + (c_g * 587) + (c_b * 114)) / 1000;
		return brightness > 155;
	}

	var bgColor = getComputedStyle(document.documentElement).getPropertyValue('--r-background-color').trim();
	var isLight = isLight(bgColor);

	if(isLight){
		document.body.classList.add('has-light-background');
	} else {
		document.body.classList.add('has-dark-background');
	}

      // default options to init reveal.js
      var defaultOptions = {
        controls: true,
        progress: true,
        history: true,
        center: true,
        transition: 'default', // none/fade/slide/convex/concave/zoom
        plugins: [
          RevealMarkdown,
          RevealHighlight,
          RevealZoom,
          RevealNotes,
          RevealMath.MathJax3,
		  RevealMermaid,
		  RevealChart,
		  RevealCustomControls,
        ],


    	allottedTime: 120 * 1000,

		mathjax3: {
			mathjax: 'plugin/math/mathjax/tex-mml-chtml.js',
		},
		markdown: {
		  gfm: true,
		  mangle: true,
		  pedantic: false,
		  smartLists: false,
		  smartypants: false,
		},

		mermaid: {
			theme: isLight ? 'default' : 'dark',
		},

		customcontrols: {
			controls: [
			]
		},
      };

      // options from URL query string
      var queryOptions = Reveal().getQueryHash() || {};

      var options = extend(defaultOptions, {"width":960,"height":540,"margin":0,"maxScale":4,"controls":true,"progress":true,"slideNumber":true,"transition":"slide","transitionSpeed":"default"}, queryOptions);
    </script>

    <script>
      Reveal.initialize(options);
    </script>
  </body>

  <!-- created with Advanced Slides -->
</html>
